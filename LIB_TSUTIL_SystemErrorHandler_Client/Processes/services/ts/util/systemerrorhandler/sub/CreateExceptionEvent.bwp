<?xml version="1.0" encoding="UTF-8"?>
<bpws:process exitOnStandardFault="no"
    name="services.ts.util.systemerrorhandler.sub.CreateExceptionEvent"
    suppressJoinFailure="yes"
    targetNamespace="http://xmlns.example.com/20151021174234"
    xmlns:bpws="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
    xmlns:info="http://www.tibco.com/bw/process/info"
    xmlns:ns="http://www.tibco.com/pe/EngineTypes"
    xmlns:ns0="http://xmlns.example.com/20151021164949PLT"
    xmlns:ns1="http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent"
    xmlns:ns2="http://www.tibco.com/pe/WriteToLogActivitySchema"
    xmlns:ns3="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess"
    xmlns:ns4="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault"
    xmlns:ns5="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2"
    xmlns:sca="http://docs.oasis-open.org/ns/opencsa/sca/200912"
    xmlns:sca-bpel="http://docs.oasis-open.org/ns/opencsa/sca-bpel/200801"
    xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"
    xmlns:tibprop="http://ns.tibco.com/bw/property"
    xmlns:tns3="http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent"
    xmlns:tns4="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <tibex:Types>
        <xs:schema attributeFormDefault="unqualified"
            elementFormDefault="qualified"
            targetNamespace="http://www.tibco.com/pe/EngineTypes"
            xmlns:tns="http://www.tibco.com/pe/EngineTypes" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <xs:complexType block="extension restriction"
                final="extension restriction" name="ErrorReport">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="StackTrace" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Msg" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="FullClass" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Class" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ProcessStack" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="MsgCode" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Data" type="tns:anydata"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="FaultDetail">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ActivityName" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Data" type="tns:anydata"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Msg" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="MsgCode" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ProcessStack" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="StackTrace" type="xs:string"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="ProcessContext">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="JobId" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ProcessInstanceId" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0"
                        name="CustomJobId" type="xs:string"/>
                    <!--xs:element name="RestartedFromCheckpoint" form="unqualified" block="extension restriction substitution" type="xs:boolean"/-->
                    <!--xs:element minOccurs="0" maxOccurs="unbounded" name="TrackingInfo" form="unqualified" block="extension restriction substitution" type="xs:string"/-->
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="anydata">
                <xs:sequence>
                    <xs:any namespace="##any" processContents="lax"/>
                </xs:sequence>
            </xs:complexType>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="ErrorReport" type="tns:ErrorReport"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="FaultDetail" type="tns:FaultDetail"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="ProcessContext" type="tns:ProcessContext"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="CorrelationValue" type="xs:string"/>
        </xs:schema>
        <schema attributeFormDefault="unqualified"
            elementFormDefault="unqualified"
            targetNamespace="http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions"
            version="" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions">
            <complexType name="ActivityExceptionType">
                <sequence>
                    <element name="msg" type="string"/>
                    <element minOccurs="0" name="msgCode" type="string"/>
                </sequence>
            </complexType>
            <element name="ActivityException" type="tns:ActivityExceptionType"/>
            <complexType name="ActivityTimedOutExceptionType">
                <complexContent>
                    <extension base="tns:ActivityExceptionType"/>
                </complexContent>
            </complexType>
            <element name="ActivityTimedOutException" type="tns:ActivityTimedOutExceptionType"/>
        </schema>
        <xs:schema attributeFormDefault="unqualified"
            elementFormDefault="qualified"
            targetNamespace="http://www.tibco.com/pe/WriteToLogActivitySchema"
            xmlns:tns="http://www.tibco.com/pe/WriteToLogActivitySchema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <xs:complexType name="LogParametersType">
                <xs:sequence>
                    <xs:element form="unqualified" minOccurs="0"
                        name="msgCode" type="xs:string"/>
                    <xs:element form="unqualified" minOccurs="0"
                        name="loggerName" type="xs:string"/>
                    <xs:element form="unqualified" minOccurs="0"
                        name="logLevel" type="xs:string"/>
                    <xs:element form="unqualified" name="message" type="xs:string"/>
                </xs:sequence>
            </xs:complexType>
            <xs:element name="ActivityInput" type="tns:LogParametersType"/>
        </xs:schema>
        <wsdl:definitions
            targetNamespace="http://xmlns.example.com/20151021164949PLT"
            xmlns:plnk="http://docs.oasis-open.org/wsbpel/2.0/plnktype"
            xmlns:ptyp="http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent"
            xmlns:tns="http://xmlns.example.com/20151021164949PLT"
            xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop"
            xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
            <plnk:partnerLinkType name="partnerLinkType">
                <plnk:role name="use" portType="ptyp:CreateExceptionEvent"/>
            </plnk:partnerLinkType>
            <wsdl:import namespace="http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent"/>
        </wsdl:definitions>
    </tibex:Types>
    <tibex:ProcessInfo callable="false" createdBy="pedro.pereira"
        createdOn="Wed Oct 21 16:49:49 BST 2015" description=""
        modifiers="public" productVersion="6.2.2 HF2 V26 2015-8-27"
        scalable="true" singleton="true" stateless="true" type="IT"/>
    <tibex:ProcessTemplateConfigurations/>
    <notation:Diagram measurementUnit="Pixel" type="BWProcess"
        xmlns:bwnotation="http://tns.tibco.com/bw/runtime/BWNotation"
        xmlns:notation="http://www.eclipse.org/gmf/runtime/1.0.2/notation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <children type="2001">
            <children type="5001">
                <element href="//0/@process"/>
            </children>
            <children type="3001">
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
                <element href="//0/@process"/>
            </children>
            <children type="3002">
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
                <element href="//0/@process"/>
            </children>
            <children type="3003">
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
                <element href="//0/@process"/>
            </children>
            <children type="3004">
                <children type="4018">
                    <children type="3018">
                        <children type="4020">
                            <children type="3020">
                                <children type="4005">
                                    <children type="3007">
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.0"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.0"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.0"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.0"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.0"/>
                                    <layoutConstraint
                                    height="89" width="141"
                                    x="557"
                                    xsi:type="notation:Bounds" y="-12"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.log">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.1"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.1"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.1"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.1"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.1"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="837"
                                    xsi:type="notation:Bounds" y="289"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.2"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.2"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.2"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.2"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.2"/>
                                    <layoutConstraint
                                    height="89" width="141"
                                    x="608"
                                    xsi:type="notation:Bounds" y="255"/>
                                    </children>
                                    <children type="4002 com.tibco.bw.core.design.process.editor.Activity_4002_Reply">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.3"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.3"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.3"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.3"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.3"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="585"
                                    xsi:type="notation:Bounds" y="78"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.4"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="89"
                                    xsi:type="notation:Bounds" y="262"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.5"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="341"
                                    xsi:type="notation:Bounds" y="255"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.6"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="341"
                                    xsi:type="notation:Bounds" y="337"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.7"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="341"
                                    xsi:type="notation:Bounds" y="176"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.8"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="216"
                                    xsi:type="notation:Bounds" y="419"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.9"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="342"
                                    xsi:type="notation:Bounds" y="475"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.10"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="216"
                                    xsi:type="notation:Bounds" y="546"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.11"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="341"
                                    xsi:type="notation:Bounds" y="607"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.12"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="503"
                                    xsi:type="notation:Bounds" y="255"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.13"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="449"
                                    xsi:type="notation:Bounds" y="78"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.14"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="216"
                                    xsi:type="notation:Bounds" y="685"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.15"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="341"
                                    xsi:type="notation:Bounds" y="768"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.16"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="223"
                                    xsi:type="notation:Bounds" y="128"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.17"/>
                                    <layoutConstraint x="1"
                                    xsi:type="notation:Bounds" y="262"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.bwassign">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.18"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="1"
                                    xsi:type="notation:Bounds" y="176"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.mapper">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.19"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="445"
                                    xsi:type="notation:Bounds" y="-11"/>
                                    </children>
                                    <styles xsi:type="notation:DrawerStyle"/>
                                    <styles xsi:type="notation:SortingStyle"/>
                                    <styles xsi:type="notation:FilteringStyle"/>
                                    <element href="//0/@process/@activity/@activity"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <styles xsi:type="bwnotation:ResizingStyle"/>
                                    <element href="//0/@process/@activity/@activity"/>
                                    <layoutConstraint height="936"
                                    width="988" xsi:type="notation:Bounds"/>
                                </children>
                                <styles xsi:type="notation:SortingStyle"/>
                                <styles xsi:type="notation:FilteringStyle"/>
                                <element href="//0/@process/@activity"/>
                            </children>
                            <styles fontName="Segoe UI" lineColor="0" xsi:type="notation:ShapeStyle"/>
                            <styles xsi:type="bwnotation:BackgroundStyle"/>
                            <styles xsi:type="bwnotation:ResizingStyle"/>
                            <element href="//0/@process/@activity"/>
                            <layoutConstraint height="741" width="822" xsi:type="notation:Bounds"/>
                        </children>
                        <styles xsi:type="notation:SortingStyle"/>
                        <styles xsi:type="notation:FilteringStyle"/>
                        <element href="//0/@process/@activity"/>
                    </children>
                    <styles fontName="Segoe UI" lineColor="0" xsi:type="notation:ShapeStyle"/>
                    <styles xsi:type="bwnotation:BackgroundStyle"/>
                    <styles xsi:type="bwnotation:ResizingStyle"/>
                    <element href="//0/@process/@activity"/>
                    <layoutConstraint height="765" width="822" x="1"
                        xsi:type="notation:Bounds" y="1"/>
                </children>
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
                <element href="//0/@process"/>
            </children>
            <styles fontName="Segoe UI" lineColor="0" xsi:type="notation:ShapeStyle"/>
            <element href="//0/@process"/>
            <layoutConstraint height="1012" width="1333" xsi:type="notation:Bounds"/>
        </children>
        <styles xsi:type="notation:DiagramStyle"/>
        <element href="//0"/>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.19" type="4006">
            <children type="6002">
                <layoutConstraint x="43" xsi:type="notation:Location" y="-10"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.0"/>
            <bendpoints
                points="[0, -24, -501, 243]$[0, -273, -501, -6]$[468, -273, -33, -6]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.1" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.1"/>
            <bendpoints
                points="[34, -6, -114, -273]$[143, -6, -5, -273]$[143, 243, -5, -24]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.7" type="4006">
            <children type="6002">
                <layoutConstraint x="-45" xsi:type="notation:Location" y="17"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.2"/>
            <bendpoints
                points="[0, -24, -276, 62]$[0, -86, -276, 0]$[252, -86, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.2"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.1" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.3"/>
            <bendpoints points="[34, 0, -81, 0]$[91, 0, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.13" type="4006">
            <children type="6002">
                <layoutConstraint x="-31" xsi:type="notation:Location" y="13"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.4"/>
            <bendpoints
                points="[0, -24, -384, 160]$[0, -180, -384, 4]$[360, -180, -24, 4]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.3"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.1" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.5"/>
            <bendpoints
                points="[25, 0, -104, -184]$[124, 0, -5, -184]$[124, 160, -5, -24]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.5" type="4006">
            <children type="6002">
                <layoutConstraint x="-13" xsi:type="notation:Location" y="24"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.6"/>
            <bendpoints points="[20, 5, -251, -2]$[247, 5, -24, -2]" xsi:type="notation:RelativeBendpoints"/>
            <sourceAnchor id="(0.6016260162601627,0.21333333333333335)" xsi:type="notation:IdentityAnchor"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.8" type="4006">
            <children type="6002">
                <layoutConstraint x="12" xsi:type="notation:Location" y="-60"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.7"/>
            <bendpoints
                points="[0, 25, -151, -132]$[0, 157, -151, 0]$[127, 157, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.10" type="4006">
            <children type="6002">
                <layoutConstraint x="77" xsi:type="notation:Location" y="-53"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.8"/>
            <bendpoints
                points="[2, 40, -151, -259]$[2, 299, -151, 0]$[129, 299, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
            <sourceAnchor id="(0.4634146341463415,0.18666666666666668)" xsi:type="notation:IdentityAnchor"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.6" type="4006">
            <children type="6002">
                <layoutConstraint x="33" xsi:type="notation:Location" y="12"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.9"/>
            <bendpoints
                points="[25, 0, -243, -66]$[84, 0, -184, -66]$[84, 66, -184, 0]$[244, 66, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.5"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.10"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.6"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.11"/>
            <bendpoints
                points="[25, 0, -139, 75]$[164, 0, 0, 75]$[164, -43, 0, 32]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.7"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.12"/>
            <bendpoints
                points="[25, 2, -137, -77]$[162, 2, 0, -77]$[162, 55, 0, -24]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.8"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.13"/>
            <bendpoints
                points="[25, -2, -262, 162]$[287, -2, 0, 162]$[287, -139, 0, 25]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.9" type="4006">
            <children type="6002">
                <layoutConstraint x="54" xsi:type="notation:Location" y="13"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.14"/>
            <bendpoints
                points="[0, 25, -277, -188]$[0, 213, -277, 0]$[253, 213, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.9"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.15"/>
            <bendpoints
                points="[25, 0, -136, 220]$[162, 0, 1, 220]$[162, -195, 1, 25]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.10"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.16"/>
            <bendpoints
                points="[25, 0, -262, 291]$[287, 0, 0, 291]$[287, -266, 0, 25]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.11" type="4006">
            <children type="6002">
                <layoutConstraint x="45" xsi:type="notation:Location" y="-80"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.17"/>
            <bendpoints
                points="[0, 25, -276, -320]$[0, 345, -276, 0]$[252, 345, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.11"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.18"/>
            <bendpoints
                points="[25, 0, -137, 352]$[163, 0, 1, 352]$[163, -327, 1, 25]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.2" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.19"/>
            <bendpoints points="[25, 7, -89, 0]$[81, 0, -33, -7]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.13"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.3" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.20"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.15"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.21"/>
            <bendpoints
                points="[25, 0, -137, 504]$[162, 0, 0, 504]$[162, -479, 0, 25]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.14"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.22"/>
            <bendpoints
                points="[25, 0, -262, 430]$[287, 0, 0, 430]$[287, -405, 0, 25]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.14" type="4006">
            <children type="6002">
                <layoutConstraint x="145" xsi:type="notation:Location" y="-61"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.23"/>
            <bendpoints
                points="[0, 25, -151, -398]$[0, 423, -151, 0]$[127, 423, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.15" type="4006">
            <children type="6002">
                <layoutConstraint x="124" xsi:type="notation:Location" y="-92"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.24"/>
            <bendpoints
                points="[0, 25, -276, -481]$[0, 506, -276, 0]$[252, 506, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.16" type="4006">
            <children type="6002">
                <layoutConstraint x="54" xsi:type="notation:Location" y="10"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.25"/>
            <bendpoints
                points="[0, -24, -158, 110]$[0, -133, -158, 1]$[134, -133, -24, 1]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.16"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.12" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.26"/>
            <bendpoints
                points="[25, 1, -255, -126]$[280, 1, 0, -126]$[280, 103, 0, -24]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.17"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.18" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.27"/>
            <bendpoints points="[25, 7, -78, 0]$[79, 0, -24, -7]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.18"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.28"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.19"
            target="//@children.0/@children.4/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.29"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
    </notation:Diagram>
    <bpws:documentation>2016/02/09:&#xd;
- In case of BackEndFault, returns SOAP envelope from back end in BackEndResponse new reply element if possible</bpws:documentation>
    <bpws:import importType="http://schemas.xmlsoap.org/wsdl/" namespace="http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent"/>
    <bpws:partnerLinks>
        <bpws:partnerLink myRole="use" name="CreateExceptionEvent"
            partnerLinkType="ns0:partnerLinkType"
            sca-bpel:ignore="false" sca-bpel:service="CreateExceptionEvent"/>
    </bpws:partnerLinks>
    <bpws:variables>
        <bpws:variable element="ns:ProcessContext"
            name="_processContext" sca-bpel:internal="true"/>
        <bpws:variable messageType="ns1:CreateExceptionEventResponse"
            name="CreateExceptionEventOut-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns2:ActivityInput" name="Log01-input" sca-bpel:internal="true"/>
        <bpws:variable messageType="ns1:CreateExceptionEventResponse"
            name="Fault-input" sca-bpel:internal="true"/>
        <bpws:variable messageType="ns1:CreateExceptionEventResponse"
            name="ValidationFault-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns4:Fault" name="Fault"/>
        <bpws:variable element="ns5:Fault" name="DataFault"/>
        <bpws:variable name="area.short.names"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="/data/services/area.short.names" type="xsd:string"/>
        <bpws:variable messageType="ns1:CreateExceptionEventRequest"
            name="CreateExceptionEventIn" sca-bpel:internal="true"/>
        <bpws:variable element="ns3:BWProcessHeaders" name="BWProcessHeaders"/>
        <bpws:variable element="tns3:CreateExceptionEventResponse"
            name="Mapper-input" sca-bpel:internal="true"/>
        <bpws:variable element="tns3:CreateExceptionEventResponse"
            name="Mapper" sca-bpel:internal="true"/>
    </bpws:variables>
    <bpws:extensions>
        <bpws:extension mustUnderstand="no" namespace="http://www.eclipse.org/gmf/runtime/1.0.2/notation"/>
        <bpws:extension mustUnderstand="no" namespace="http://www.tibco.com/bw/process/info"/>
        <bpws:extension mustUnderstand="no" namespace="http://docs.oasis-open.org/ns/opencsa/sca-bpel/200801"/>
        <bpws:extension mustUnderstand="no" namespace="http://docs.oasis-open.org/ns/opencsa/sca/200912"/>
        <bpws:extension mustUnderstand="no" namespace="http://ns.tibco.com/bw/property"/>
        <bpws:extension mustUnderstand="no" namespace="http://www.tibco.com/bpel/2007/extensions"/>
    </bpws:extensions>
    <bpws:scope name="scope">
        <bpws:flow name="flow">
            <bpws:links>
                <bpws:link name="AssignToCreateExceptionEventOut"
                    tibex:label="Else" tibex:linkType="SUCCESSWITHNOCONDITION"/>
                <bpws:link name="CreateExceptionEventOutToLog" tibex:linkType="SUCCESS"/>
                <bpws:link name="AssignToFault" tibex:label="Fault.2" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="EventOut_TimeoutFaultToLog01" tibex:linkType="SUCCESS"/>
                <bpws:link
                    name="AssignToValidationFault_XMLInputErrorinBS"
                    tibex:label="XML Input Error in BS" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="ReplyToLog01" tibex:linkType="SUCCESS"/>
                <bpws:link name="AssignToTimeoutFault"
                    tibex:label="TimeoutFault" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="AssignToAssignBackEndFault"
                    tibex:label="BackEndFault" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="AssignToAssignValidationFault"
                    tibex:label="ValidationFault" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="AssignToThrowableTimeoutFault"
                    tibex:label="Throwable Timeout Fault" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="AssignDataTimeoutFaultToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link name="AssignDataTimeoutFault2ToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link name="AssignDataFaulToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link name="AssignBackEndFaultToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link
                    name="AssignToAssignBackEndFault2_ThrowableBackEndFault"
                    tibex:label="Throwable BackEnd Fault" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="AssignBackEndFault2ToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link name="AssignValidationFaultToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link
                    name="AssignToAssignValidationFault2_ThrowableValidationFault"
                    tibex:label="Throwable Validation Fault" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="AssignValidationFault2ToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link name="AssignFaultToFault" tibex:linkType="SUCCESS"/>
                <bpws:link name="Assign1ToValidationFault" tibex:linkType="SUCCESS"/>
                <bpws:link
                    name="AssignAuthenticationFault2ToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link name="AssignAuthenticationFaultToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link
                    name="AssignToAssignAuthenticationFault_AuthenticationFault"
                    tibex:label="AuthenticationFault" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link
                    name="AssignToAssignAuthenticationFault2_ThrowableAuthenticationFault"
                    tibex:label="Throwable Authentication Fault" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link
                    name="AssignToAssignDataFault2_ThrowableFault"
                    tibex:label="Throwable Fault" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="AssignDataFault2ToAssignFault" tibex:linkType="SUCCESS"/>
                <bpws:link name="CreateExceptionEventInToAssign" tibex:linkType="SUCCESS"/>
                <bpws:link name="Assign1ToAssign" tibex:linkType="SUCCESS"/>
                <bpws:link name="MapperToCreateExceptionEventOut" tibex:linkType="SUCCESS"/>
            </bpws:links>
            <bpws:reply name="CreateExceptionEventOut"
                operation="CreateExceptionEvent"
                partnerLink="CreateExceptionEvent"
                portType="ns1:CreateExceptionEvent"
                tibex:xpdlId="1bb6b784-78e5-45e5-9045-bdef15e97199" variable="CreateExceptionEventOut-input">
                <tibex:inputBinding expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ns1="http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent" xmlns:tns="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault" xmlns:tns1="http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent" xmlns:tns2="http://www.tibco.com/PSG/CommonServices/Data/Message/Common" xmlns:tns5="http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext" xmlns:bwp1="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess" xmlns:head1="http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader" xmlns:ns0="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2" xmlns:tib="http://www.tibco.com/bw/xslt/custom-functions" xmlns:bw="http://www.tibco.com/bw/xpath/bw-custom-functions" version="2.0"&gt;&lt;xsl:param name="Mapper"/&gt;&lt;xsl:template name="CreateExceptionEventOut-input" match="/"&gt;&lt;ns1:CreateExceptionEventResponse&gt;&lt;parameters&gt;&lt;xsl:copy-of select="$Mapper"/&gt;&lt;/parameters&gt;&lt;/ns1:CreateExceptionEventResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;</tibex:inputBinding>
                <tibex:inputBindings>
                    <tibex:partBinding
                        expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns1=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:ns0=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;Mapper&quot;/>&#xa;    &lt;xsl:template name=&quot;CreateExceptionEventOut-input&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:copy-of select=&quot;$Mapper&quot;/>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                </tibex:inputBindings>
                <bpws:targets>
                    <bpws:target linkName="MapperToCreateExceptionEventOut"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="CreateExceptionEventOutToLog"/>
                </bpws:sources>
            </bpws:reply>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:template name=&quot;Log01-input&quot; match=&quot;/&quot;>&lt;tns:ActivityInput>&lt;xsl:variable name=&quot;TIMESTAMP&quot; select=&quot;$Fault/tns2:ExceptionTimestamp&quot;/>&lt;xsl:variable name=&quot;TIMESTAMP_MSG&quot; select=&quot;concat(format-dateTime($TIMESTAMP, &amp;quot;[Y0001]-[M01]-[D01] [H01]:[m01]:[s01]&amp;quot;), &amp;quot;.&amp;quot;, tib:pad-front(format-dateTime($TIMESTAMP, &amp;quot;[f001]&amp;quot;), 3, &amp;quot;0&amp;quot;))&quot;/>&lt;xsl:choose>&lt;xsl:when test=&quot;starts-with($Fault/tns2:FaultDetails/tns2:Msg, &amp;quot;PVM-XML-106027:&amp;quot;)&quot;>&lt;message>&lt;xsl:value-of select=&quot;concat(&amp;quot;CID: &amp;quot;, $Fault/tns4:CorrelationId, &amp;quot;: &amp;quot;, $TIMESTAMP_MSG, &amp;quot;: &amp;quot;, $Fault/tns6:RuntimeContext/tns6:ServiceName, &amp;quot;: Exception: &amp;quot;,  $Fault/tns2:ExceptionName, &amp;quot;: &amp;quot;, $Fault/tns2:FaultDetails/tns2:Msg, &amp;quot;&amp;#xD;&amp;#xA;&amp;quot;, $Fault/tns2:FaultDetails/tns2:StackTrace)&quot;/>&lt;/message>&lt;/xsl:when>&lt;xsl:otherwise>&lt;message>&lt;xsl:value-of select=&quot;concat(&amp;quot;CID: &amp;quot;, $Fault/tns4:CorrelationId, &amp;quot;: &amp;quot;, $TIMESTAMP_MSG, &amp;quot;: &amp;quot;, $Fault/tns6:RuntimeContext/tns6:ServiceName, &amp;quot;: Exception: &amp;quot;,  $Fault/tns2:ExceptionName, &amp;quot;: &amp;quot;, tib:left($Fault/tns2:FaultDetails/tns2:Msg, 1000), &amp;quot;&amp;#xD;&amp;#xA;&amp;quot;, tib:render-xml($Fault/tns2:FaultDetails, false(), true()))&quot;/>&lt;/message>&lt;/xsl:otherwise>&lt;/xsl:choose>&lt;/tns:ActivityInput>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="Log01-input" name="Log01"
                    tibex:xpdlId="5aeb2fc2-7f09-4d2b-80f4-c69f5126374f" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="CreateExceptionEventOutToLog"/>
                        <bpws:target linkName="EventOut_TimeoutFaultToLog01"/>
                        <bpws:target linkName="ReplyToLog01"/>
                    </bpws:targets>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:template name=&quot;Log01-input&quot; match=&quot;/&quot;>&lt;tns:ActivityInput>&lt;xsl:variable name=&quot;TIMESTAMP&quot; select=&quot;$Fault/tns2:ExceptionTimestamp&quot;/>&lt;xsl:variable name=&quot;TIMESTAMP_MSG&quot; select=&quot;concat(format-dateTime($TIMESTAMP, &amp;quot;[Y0001]-[M01]-[D01] [H01]:[m01]:[s01]&amp;quot;), &amp;quot;.&amp;quot;, tib:pad-front(format-dateTime($TIMESTAMP, &amp;quot;[f001]&amp;quot;), 3, &amp;quot;0&amp;quot;))&quot;/>&lt;xsl:choose>&lt;xsl:when test=&quot;starts-with($Fault/tns2:FaultDetails/tns2:Msg, &amp;quot;PVM-XML-106027:&amp;quot;)&quot;>&lt;message>&lt;xsl:value-of select=&quot;concat(&amp;quot;CID: &amp;quot;, $Fault/tns4:CorrelationId, &amp;quot;: &amp;quot;, $TIMESTAMP_MSG, &amp;quot;: &amp;quot;, $Fault/tns6:RuntimeContext/tns6:ServiceName, &amp;quot;: Exception: &amp;quot;,  $Fault/tns2:ExceptionName, &amp;quot;: &amp;quot;, $Fault/tns2:FaultDetails/tns2:Msg, &amp;quot;&amp;#xD;&amp;#xA;&amp;quot;, $Fault/tns2:FaultDetails/tns2:StackTrace)&quot;/>&lt;/message>&lt;/xsl:when>&lt;xsl:otherwise>&lt;message>&lt;xsl:value-of select=&quot;concat(&amp;quot;CID: &amp;quot;, $Fault/tns4:CorrelationId, &amp;quot;: &amp;quot;, $TIMESTAMP_MSG, &amp;quot;: &amp;quot;, $Fault/tns6:RuntimeContext/tns6:ServiceName, &amp;quot;: Exception: &amp;quot;,  $Fault/tns2:ExceptionName, &amp;quot;: &amp;quot;, tib:left($Fault/tns2:FaultDetails/tns2:Msg, 1000), &amp;quot;&amp;#xD;&amp;#xA;&amp;quot;, tib:render-xml($Fault/tns2:FaultDetails, false(), true()))&quot;/>&lt;/message>&lt;/xsl:otherwise>&lt;/xsl:choose>&lt;/tns:ActivityInput>&lt;/xsl:template>&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.log"
                            version="6.0.0.001"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                                    <value loggerName="" role="Error"
                                    suppressJobInfo="true" xsi:type="generalactivities:Log"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:reply name="Fault" operation="CreateExceptionEvent"
                partnerLink="CreateExceptionEvent"
                portType="ns1:CreateExceptionEvent" variable="Fault-input">
                <tibex:inputBinding expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:tns6="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2" xmlns:tns7="http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent" xmlns:ns0="http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent" xmlns:tns="http://www.tibco.com/PSG/CommonServices/Data/Message/Common" xmlns:head="http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader" xmlns:bwp="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess" version="2.0"&gt;
    &lt;xsl:param name="Fault"/&gt;
    &lt;xsl:param name="DataFault"/&gt;
    &lt;xsl:param name="BWProcessHeaders"/&gt;
    &lt;xsl:template name="Fault-input" match="/"&gt;
        &lt;ns0:CreateExceptionEventResponse&gt;
            &lt;parameters&gt;
                &lt;tns7:CreateExceptionEventResponse&gt;
                    &lt;xsl:copy-of select="$Fault"/&gt;
                    &lt;tns7:Response&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="$DataFault/tns6:ExceptionName = &amp;quot;ValidationFault&amp;quot;"&gt;
                                &lt;xsl:for-each select="$DataFault"&gt;
                                    &lt;tns6:ValidationFault&gt;
                                        &lt;tns6:FaultHeader&gt;
                                            &lt;tns:CorrelationId&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/tns:CorrelationId"/&gt;
                                            &lt;/tns:CorrelationId&gt;
                                            &lt;head:TransactionId&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/head:TransactionId"/&gt;
                                            &lt;/head:TransactionId&gt;
                                            &lt;head:Version&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/bwp:Response/head:Version"/&gt;
                                            &lt;/head:Version&gt;
                                            &lt;head:ResponseDateTime&gt;
                                                &lt;xsl:value-of select="current-dateTime()"/&gt;
                                            &lt;/head:ResponseDateTime&gt;
                                            &lt;xsl:copy-of select="$BWProcessHeaders/bwp:Response/head:Source"/&gt;
                                        &lt;/tns6:FaultHeader&gt;
                                        &lt;xsl:if test="tns6:Severity"&gt;
                                            &lt;tns6:Severity&gt;
                                                &lt;xsl:value-of select="tns6:Severity"/&gt;
                                            &lt;/tns6:Severity&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;tns6:ExceptionId&gt;
                                            &lt;xsl:value-of select="tns6:ExceptionId"/&gt;
                                        &lt;/tns6:ExceptionId&gt;
                                        &lt;tns6:ExceptionTimestamp&gt;
                                            &lt;xsl:value-of select="tns6:ExceptionTimestamp"/&gt;
                                        &lt;/tns6:ExceptionTimestamp&gt;
                                        &lt;xsl:if test="tns6:ExceptionName"&gt;
                                            &lt;tns6:ExceptionName&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionName"/&gt;
                                            &lt;/tns6:ExceptionName&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="tns6:ExceptionDescription"&gt;
                                            &lt;tns6:ExceptionDescription&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionDescription"/&gt;
                                            &lt;/tns6:ExceptionDescription&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="tns6:ExceptionDetails"&gt;
                                            &lt;tns6:ExceptionDetails&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionDetails"/&gt;
                                            &lt;/tns6:ExceptionDetails&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:copy-of select="tns6:RootException"/&gt;
                                        &lt;xsl:copy-of select="tns6:FaultContext"/&gt;
                                    &lt;/tns6:ValidationFault&gt;
                                &lt;/xsl:for-each&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:when test="$DataFault/tns6:ExceptionName = &amp;quot;BackEndFault&amp;quot;"&gt;
                                &lt;xsl:for-each select="$DataFault"&gt;
                                    &lt;tns6:BackEndFault&gt;
                                        &lt;tns6:FaultHeader&gt;
                                            &lt;tns:CorrelationId&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/tns:CorrelationId"/&gt;
                                            &lt;/tns:CorrelationId&gt;
                                            &lt;head:TransactionId&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/head:TransactionId"/&gt;
                                            &lt;/head:TransactionId&gt;
                                            &lt;head:Version&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/bwp:Response/head:Version"/&gt;
                                            &lt;/head:Version&gt;
                                            &lt;head:ResponseDateTime&gt;
                                                &lt;xsl:value-of select="current-dateTime()"/&gt;
                                            &lt;/head:ResponseDateTime&gt;
                                            &lt;xsl:copy-of select="$BWProcessHeaders/bwp:Response/head:Source"/&gt;
                                        &lt;/tns6:FaultHeader&gt;
                                        &lt;xsl:if test="tns6:Severity"&gt;
                                            &lt;tns6:Severity&gt;
                                                &lt;xsl:value-of select="tns6:Severity"/&gt;
                                            &lt;/tns6:Severity&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;tns6:ExceptionId&gt;
                                            &lt;xsl:value-of select="tns6:ExceptionId"/&gt;
                                        &lt;/tns6:ExceptionId&gt;
                                        &lt;tns6:ExceptionTimestamp&gt;
                                            &lt;xsl:value-of select="tns6:ExceptionTimestamp"/&gt;
                                        &lt;/tns6:ExceptionTimestamp&gt;
                                        &lt;xsl:if test="tns6:ExceptionName"&gt;
                                            &lt;tns6:ExceptionName&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionName"/&gt;
                                            &lt;/tns6:ExceptionName&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="tns6:ExceptionDescription"&gt;
                                            &lt;tns6:ExceptionDescription&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionDescription"/&gt;
                                            &lt;/tns6:ExceptionDescription&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="tns6:ExceptionDetails"&gt;
                                            &lt;tns6:ExceptionDetails&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionDetails"/&gt;
                                            &lt;/tns6:ExceptionDetails&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:copy-of select="tns6:RootException"/&gt;
                                        &lt;xsl:copy-of select="tns6:FaultContext"/&gt;
                                    &lt;/tns6:BackEndFault&gt;
                                &lt;/xsl:for-each&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:when test="$DataFault/tns6:ExceptionName = &amp;quot;TimeoutFault&amp;quot;"&gt;
                                &lt;xsl:for-each select="$DataFault"&gt;
                                    &lt;tns6:TimeoutFault&gt;
                                        &lt;tns6:FaultHeader&gt;
                                            &lt;tns:CorrelationId&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/tns:CorrelationId"/&gt;
                                            &lt;/tns:CorrelationId&gt;
                                            &lt;head:TransactionId&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/head:TransactionId"/&gt;
                                            &lt;/head:TransactionId&gt;
                                            &lt;head:Version&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/bwp:Response/head:Version"/&gt;
                                            &lt;/head:Version&gt;
                                            &lt;head:ResponseDateTime&gt;
                                                &lt;xsl:value-of select="current-dateTime()"/&gt;
                                            &lt;/head:ResponseDateTime&gt;
                                            &lt;xsl:copy-of select="$BWProcessHeaders/bwp:Response/head:Source"/&gt;
                                        &lt;/tns6:FaultHeader&gt;
                                        &lt;xsl:if test="tns6:Severity"&gt;
                                            &lt;tns6:Severity&gt;
                                                &lt;xsl:value-of select="tns6:Severity"/&gt;
                                            &lt;/tns6:Severity&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;tns6:ExceptionId&gt;
                                            &lt;xsl:value-of select="tns6:ExceptionId"/&gt;
                                        &lt;/tns6:ExceptionId&gt;
                                        &lt;tns6:ExceptionTimestamp&gt;
                                            &lt;xsl:value-of select="tns6:ExceptionTimestamp"/&gt;
                                        &lt;/tns6:ExceptionTimestamp&gt;
                                        &lt;xsl:if test="tns6:ExceptionName"&gt;
                                            &lt;tns6:ExceptionName&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionName"/&gt;
                                            &lt;/tns6:ExceptionName&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="tns6:ExceptionDescription"&gt;
                                            &lt;tns6:ExceptionDescription&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionDescription"/&gt;
                                            &lt;/tns6:ExceptionDescription&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="tns6:ExceptionDetails"&gt;
                                            &lt;tns6:ExceptionDetails&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionDetails"/&gt;
                                            &lt;/tns6:ExceptionDetails&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:copy-of select="tns6:RootException"/&gt;
                                        &lt;xsl:copy-of select="tns6:FaultContext"/&gt;
                                    &lt;/tns6:TimeoutFault&gt;
                                &lt;/xsl:for-each&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:when test="$DataFault/tns6:ExceptionName = &amp;quot;AuthenticationFault&amp;quot;"&gt;
                                &lt;xsl:for-each select="$DataFault"&gt;
                                    &lt;tns6:AuthenticationFault&gt;
                                        &lt;tns6:FaultHeader&gt;
                                            &lt;tns:CorrelationId&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/tns:CorrelationId"/&gt;
                                            &lt;/tns:CorrelationId&gt;
                                            &lt;head:TransactionId&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/head:TransactionId"/&gt;
                                            &lt;/head:TransactionId&gt;
                                            &lt;head:Version&gt;
                                                &lt;xsl:value-of select="$BWProcessHeaders/bwp:Response/head:Version"/&gt;
                                            &lt;/head:Version&gt;
                                            &lt;head:ResponseDateTime&gt;
                                                &lt;xsl:value-of select="current-dateTime()"/&gt;
                                            &lt;/head:ResponseDateTime&gt;
                                            &lt;xsl:copy-of select="$BWProcessHeaders/bwp:Response/head:Source"/&gt;
                                        &lt;/tns6:FaultHeader&gt;
                                        &lt;xsl:if test="tns6:Severity"&gt;
                                            &lt;tns6:Severity&gt;
                                                &lt;xsl:value-of select="tns6:Severity"/&gt;
                                            &lt;/tns6:Severity&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;tns6:ExceptionId&gt;
                                            &lt;xsl:value-of select="tns6:ExceptionId"/&gt;
                                        &lt;/tns6:ExceptionId&gt;
                                        &lt;tns6:ExceptionTimestamp&gt;
                                            &lt;xsl:value-of select="tns6:ExceptionTimestamp"/&gt;
                                        &lt;/tns6:ExceptionTimestamp&gt;
                                        &lt;xsl:if test="tns6:ExceptionName"&gt;
                                            &lt;tns6:ExceptionName&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionName"/&gt;
                                            &lt;/tns6:ExceptionName&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="tns6:ExceptionDescription"&gt;
                                            &lt;tns6:ExceptionDescription&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionDescription"/&gt;
                                            &lt;/tns6:ExceptionDescription&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="tns6:ExceptionDetails"&gt;
                                            &lt;tns6:ExceptionDetails&gt;
                                                &lt;xsl:value-of select="tns6:ExceptionDetails"/&gt;
                                            &lt;/tns6:ExceptionDetails&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:copy-of select="tns6:RootException"/&gt;
                                        &lt;xsl:copy-of select="tns6:FaultContext"/&gt;
                                    &lt;/tns6:AuthenticationFault&gt;
                                &lt;/xsl:for-each&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;xsl:for-each select="$DataFault"&gt;
                                    &lt;xsl:copy-of select="."/&gt;
                                &lt;/xsl:for-each&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                    &lt;/tns7:Response&gt;
                &lt;/tns7:CreateExceptionEventResponse&gt;
            &lt;/parameters&gt;
        &lt;/ns0:CreateExceptionEventResponse&gt;
    &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;</tibex:inputBinding>
                <tibex:inputBindings>
                    <tibex:partBinding
                        expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns0=&quot;http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:head=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:bwp=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:param name=&quot;DataFault&quot;/>&#xa;    &lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&#xa;    &lt;xsl:template name=&quot;Fault-input&quot; match=&quot;/&quot;>&#xa;        &lt;tns7:CreateExceptionEventResponse>&#xa;            &lt;xsl:copy-of select=&quot;$Fault&quot;/>&#xa;            &lt;tns7:Response>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;$DataFault/tns6:ExceptionName = &amp;quot;ValidationFault&amp;quot;&quot;>&#xa;                        &lt;xsl:for-each select=&quot;$DataFault&quot;>&#xa;                            &lt;tns6:ValidationFault>&#xa;                                &lt;tns6:FaultHeader>&#xa;                                    &lt;tns:CorrelationId>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns:CorrelationId&quot;/>&#xa;                                    &lt;/tns:CorrelationId>&#xa;                                    &lt;head:TransactionId>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/head:TransactionId&quot;/>&#xa;                                    &lt;/head:TransactionId>&#xa;                                    &lt;head:Version>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp:Response/head:Version&quot;/>&#xa;                                    &lt;/head:Version>&#xa;                                    &lt;head:ResponseDateTime>&#xa;                                        &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                                    &lt;/head:ResponseDateTime>&#xa;                                    &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp:Response/head:Source&quot;/>&#xa;                                &lt;/tns6:FaultHeader>&#xa;                                &lt;xsl:if test=&quot;tns6:Severity&quot;>&#xa;                                    &lt;tns6:Severity>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:Severity&quot;/>&#xa;                                    &lt;/tns6:Severity>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;tns6:ExceptionId>&#xa;                                    &lt;xsl:value-of select=&quot;tns6:ExceptionId&quot;/>&#xa;                                &lt;/tns6:ExceptionId>&#xa;                                &lt;tns6:ExceptionTimestamp>&#xa;                                    &lt;xsl:value-of select=&quot;tns6:ExceptionTimestamp&quot;/>&#xa;                                &lt;/tns6:ExceptionTimestamp>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionName&quot;>&#xa;                                    &lt;tns6:ExceptionName>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionName&quot;/>&#xa;                                    &lt;/tns6:ExceptionName>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionDescription&quot;>&#xa;                                    &lt;tns6:ExceptionDescription>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionDescription&quot;/>&#xa;                                    &lt;/tns6:ExceptionDescription>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionDetails&quot;>&#xa;                                    &lt;tns6:ExceptionDetails>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionDetails&quot;/>&#xa;                                    &lt;/tns6:ExceptionDetails>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:copy-of select=&quot;tns6:RootException&quot;/>&#xa;                                &lt;xsl:copy-of select=&quot;tns6:FaultContext&quot;/>&#xa;                            &lt;/tns6:ValidationFault>&#xa;                        &lt;/xsl:for-each>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;$DataFault/tns6:ExceptionName = &amp;quot;BackEndFault&amp;quot;&quot;>&#xa;                        &lt;xsl:for-each select=&quot;$DataFault&quot;>&#xa;                            &lt;tns6:BackEndFault>&#xa;                                &lt;tns6:FaultHeader>&#xa;                                    &lt;tns:CorrelationId>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns:CorrelationId&quot;/>&#xa;                                    &lt;/tns:CorrelationId>&#xa;                                    &lt;head:TransactionId>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/head:TransactionId&quot;/>&#xa;                                    &lt;/head:TransactionId>&#xa;                                    &lt;head:Version>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp:Response/head:Version&quot;/>&#xa;                                    &lt;/head:Version>&#xa;                                    &lt;head:ResponseDateTime>&#xa;                                        &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                                    &lt;/head:ResponseDateTime>&#xa;                                    &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp:Response/head:Source&quot;/>&#xa;                                &lt;/tns6:FaultHeader>&#xa;                                &lt;xsl:if test=&quot;tns6:Severity&quot;>&#xa;                                    &lt;tns6:Severity>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:Severity&quot;/>&#xa;                                    &lt;/tns6:Severity>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;tns6:ExceptionId>&#xa;                                    &lt;xsl:value-of select=&quot;tns6:ExceptionId&quot;/>&#xa;                                &lt;/tns6:ExceptionId>&#xa;                                &lt;tns6:ExceptionTimestamp>&#xa;                                    &lt;xsl:value-of select=&quot;tns6:ExceptionTimestamp&quot;/>&#xa;                                &lt;/tns6:ExceptionTimestamp>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionName&quot;>&#xa;                                    &lt;tns6:ExceptionName>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionName&quot;/>&#xa;                                    &lt;/tns6:ExceptionName>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionDescription&quot;>&#xa;                                    &lt;tns6:ExceptionDescription>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionDescription&quot;/>&#xa;                                    &lt;/tns6:ExceptionDescription>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionDetails&quot;>&#xa;                                    &lt;tns6:ExceptionDetails>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionDetails&quot;/>&#xa;                                    &lt;/tns6:ExceptionDetails>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:copy-of select=&quot;tns6:RootException&quot;/>&#xa;                                &lt;xsl:copy-of select=&quot;tns6:FaultContext&quot;/>&#xa;                            &lt;/tns6:BackEndFault>&#xa;                        &lt;/xsl:for-each>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;$DataFault/tns6:ExceptionName = &amp;quot;TimeoutFault&amp;quot;&quot;>&#xa;                        &lt;xsl:for-each select=&quot;$DataFault&quot;>&#xa;                            &lt;tns6:TimeoutFault>&#xa;                                &lt;tns6:FaultHeader>&#xa;                                    &lt;tns:CorrelationId>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns:CorrelationId&quot;/>&#xa;                                    &lt;/tns:CorrelationId>&#xa;                                    &lt;head:TransactionId>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/head:TransactionId&quot;/>&#xa;                                    &lt;/head:TransactionId>&#xa;                                    &lt;head:Version>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp:Response/head:Version&quot;/>&#xa;                                    &lt;/head:Version>&#xa;                                    &lt;head:ResponseDateTime>&#xa;                                        &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                                    &lt;/head:ResponseDateTime>&#xa;                                    &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp:Response/head:Source&quot;/>&#xa;                                &lt;/tns6:FaultHeader>&#xa;                                &lt;xsl:if test=&quot;tns6:Severity&quot;>&#xa;                                    &lt;tns6:Severity>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:Severity&quot;/>&#xa;                                    &lt;/tns6:Severity>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;tns6:ExceptionId>&#xa;                                    &lt;xsl:value-of select=&quot;tns6:ExceptionId&quot;/>&#xa;                                &lt;/tns6:ExceptionId>&#xa;                                &lt;tns6:ExceptionTimestamp>&#xa;                                    &lt;xsl:value-of select=&quot;tns6:ExceptionTimestamp&quot;/>&#xa;                                &lt;/tns6:ExceptionTimestamp>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionName&quot;>&#xa;                                    &lt;tns6:ExceptionName>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionName&quot;/>&#xa;                                    &lt;/tns6:ExceptionName>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionDescription&quot;>&#xa;                                    &lt;tns6:ExceptionDescription>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionDescription&quot;/>&#xa;                                    &lt;/tns6:ExceptionDescription>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionDetails&quot;>&#xa;                                    &lt;tns6:ExceptionDetails>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionDetails&quot;/>&#xa;                                    &lt;/tns6:ExceptionDetails>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:copy-of select=&quot;tns6:RootException&quot;/>&#xa;                                &lt;xsl:copy-of select=&quot;tns6:FaultContext&quot;/>&#xa;                            &lt;/tns6:TimeoutFault>&#xa;                        &lt;/xsl:for-each>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;$DataFault/tns6:ExceptionName = &amp;quot;AuthenticationFault&amp;quot;&quot;>&#xa;                        &lt;xsl:for-each select=&quot;$DataFault&quot;>&#xa;                            &lt;tns6:AuthenticationFault>&#xa;                                &lt;tns6:FaultHeader>&#xa;                                    &lt;tns:CorrelationId>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns:CorrelationId&quot;/>&#xa;                                    &lt;/tns:CorrelationId>&#xa;                                    &lt;head:TransactionId>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/head:TransactionId&quot;/>&#xa;                                    &lt;/head:TransactionId>&#xa;                                    &lt;head:Version>&#xa;                                        &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp:Response/head:Version&quot;/>&#xa;                                    &lt;/head:Version>&#xa;                                    &lt;head:ResponseDateTime>&#xa;                                        &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                                    &lt;/head:ResponseDateTime>&#xa;                                    &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp:Response/head:Source&quot;/>&#xa;                                &lt;/tns6:FaultHeader>&#xa;                                &lt;xsl:if test=&quot;tns6:Severity&quot;>&#xa;                                    &lt;tns6:Severity>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:Severity&quot;/>&#xa;                                    &lt;/tns6:Severity>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;tns6:ExceptionId>&#xa;                                    &lt;xsl:value-of select=&quot;tns6:ExceptionId&quot;/>&#xa;                                &lt;/tns6:ExceptionId>&#xa;                                &lt;tns6:ExceptionTimestamp>&#xa;                                    &lt;xsl:value-of select=&quot;tns6:ExceptionTimestamp&quot;/>&#xa;                                &lt;/tns6:ExceptionTimestamp>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionName&quot;>&#xa;                                    &lt;tns6:ExceptionName>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionName&quot;/>&#xa;                                    &lt;/tns6:ExceptionName>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionDescription&quot;>&#xa;                                    &lt;tns6:ExceptionDescription>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionDescription&quot;/>&#xa;                                    &lt;/tns6:ExceptionDescription>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tns6:ExceptionDetails&quot;>&#xa;                                    &lt;tns6:ExceptionDetails>&#xa;                                        &lt;xsl:value-of select=&quot;tns6:ExceptionDetails&quot;/>&#xa;                                    &lt;/tns6:ExceptionDetails>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:copy-of select=&quot;tns6:RootException&quot;/>&#xa;                                &lt;xsl:copy-of select=&quot;tns6:FaultContext&quot;/>&#xa;                            &lt;/tns6:AuthenticationFault>&#xa;                        &lt;/xsl:for-each>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;xsl:for-each select=&quot;$DataFault&quot;>&#xa;                            &lt;xsl:copy-of select=&quot;.&quot;/>&#xa;                        &lt;/xsl:for-each>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;            &lt;/tns7:Response>&#xa;        &lt;/tns7:CreateExceptionEventResponse>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                </tibex:inputBindings>
                <bpws:targets>
                    <bpws:target linkName="AssignFaultToFault"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="EventOut_TimeoutFaultToLog01"/>
                </bpws:sources>
            </bpws:reply>
            <bpws:reply name="ValidationFault"
                operation="CreateExceptionEvent"
                partnerLink="CreateExceptionEvent"
                portType="ns1:CreateExceptionEvent"
                tibex:xpdlId="dc6b2895-c571-4035-be39-5f4458ad0de7" variable="ValidationFault-input">
                <tibex:inputBinding expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:tns="http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent" xmlns:tns1="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault" xmlns:tns2="http://www.tibco.com/PSG/CommonServices/Data/Message/Common" xmlns:tns8="http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext" xmlns:bwp1="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess" xmlns:head1="http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader" xmlns:ns1="http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent" xmlns:ns2="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2" xmlns:tib="http://www.tibco.com/bw/xslt/custom-functions" xmlns:bw="http://www.tibco.com/bw/xpath/bw-custom-functions" version="2.0"&gt;&lt;xsl:param name="CreateExceptionEventIn"/&gt;&lt;xsl:param name="Fault"/&gt;&lt;xsl:param name="BWProcessHeaders"/&gt;&lt;xsl:template name="ValidationFault-input" match="/"&gt;&lt;ns1:CreateExceptionEventResponse&gt;&lt;parameters&gt;&lt;tns:CreateExceptionEventResponse&gt;&lt;xsl:variable name="varRequest" select="$CreateExceptionEventIn/parameters/tns:CreateExceptionEventRequest"/&gt;&lt;xsl:variable name="DESC_LINES" select="tokenize(substring-before(substring-after($varRequest/tns1:FaultDetails/tns1:Msg, &amp;quot;does not conform to the activity output schema.&amp;quot;), &amp;quot;Schema=&amp;quot;), &amp;quot;[-\.] &amp;quot;)"/&gt;&lt;xsl:variable name="EID" select="tib:uuid()"/&gt;&lt;xsl:for-each select="$Fault"&gt;&lt;tns1:Fault&gt;&lt;tns2:CorrelationId&gt;&lt;xsl:value-of select="tns2:CorrelationId"/&gt;&lt;/tns2:CorrelationId&gt;&lt;tns1:ExceptionId&gt;&lt;xsl:value-of select="tns1:ExceptionId"/&gt;&lt;/tns1:ExceptionId&gt;&lt;tns1:ExceptionTimestamp&gt;&lt;xsl:value-of select="tns1:ExceptionTimestamp"/&gt;&lt;/tns1:ExceptionTimestamp&gt;&lt;xsl:if test="tns1:ExceptionName"&gt;&lt;tns1:ExceptionName&gt;&lt;xsl:value-of select="tns1:ExceptionName"/&gt;&lt;/tns1:ExceptionName&gt;&lt;/xsl:if&gt;&lt;tns1:isAudited&gt;&lt;xsl:value-of select="tns1:isAudited"/&gt;&lt;/tns1:isAudited&gt;&lt;xsl:copy-of select="tns1:FaultDetails"/&gt;&lt;xsl:copy-of select="tns8:RuntimeContext"/&gt;&lt;xsl:copy-of select="tns2:Payload"/&gt;&lt;/tns1:Fault&gt;&lt;/xsl:for-each&gt;&lt;tns:Response&gt;&lt;ns2:ValidationFault&gt;&lt;ns2:FaultHeader&gt;&lt;tns2:CorrelationId&gt;&lt;xsl:value-of select="$BWProcessHeaders/tns2:CorrelationId"/&gt;&lt;/tns2:CorrelationId&gt;&lt;head1:TransactionId&gt;&lt;xsl:value-of select="$BWProcessHeaders/head1:TransactionId"/&gt;&lt;/head1:TransactionId&gt;&lt;head1:Version&gt;&lt;xsl:value-of select="$BWProcessHeaders/bwp1:Response/head1:Version"/&gt;&lt;/head1:Version&gt;&lt;head1:ResponseDateTime&gt;&lt;xsl:value-of select="current-dateTime()"/&gt;&lt;/head1:ResponseDateTime&gt;&lt;xsl:copy-of select="$BWProcessHeaders/bwp1:Response/head1:Source"/&gt;&lt;/ns2:FaultHeader&gt;&lt;ns2:ExceptionId&gt;&lt;xsl:value-of select="$Fault/tns1:ExceptionId"/&gt;&lt;/ns2:ExceptionId&gt;&lt;ns2:ExceptionTimestamp&gt;&lt;xsl:value-of select="$varRequest/tns1:ExceptionTimestamp"/&gt;&lt;/ns2:ExceptionTimestamp&gt;&lt;ns2:ExceptionName&gt;&lt;xsl:value-of select="&amp;quot;ValidationFault&amp;quot;"/&gt;&lt;/ns2:ExceptionName&gt;&lt;ns2:ExceptionDescription&gt;&lt;xsl:value-of select="&amp;quot;Incorrect XML request&amp;quot;"/&gt;&lt;/ns2:ExceptionDescription&gt;&lt;ns2:ExceptionDetails&gt;&lt;xsl:value-of select="string-join($DESC_LINES, &amp;quot;&amp;#xA;&amp;quot;)"/&gt;&lt;/ns2:ExceptionDetails&gt;&lt;ns2:RootException&gt;&lt;ns2:ExceptionId&gt;&lt;xsl:value-of select="$Fault/tns1:ExceptionId"/&gt;&lt;/ns2:ExceptionId&gt;&lt;ns2:ExceptionName&gt;&lt;xsl:value-of select="&amp;quot;ValidationFault&amp;quot;"/&gt;&lt;/ns2:ExceptionName&gt;&lt;/ns2:RootException&gt;&lt;ns2:FaultContext&gt;&lt;ns2:Hostname&gt;&lt;xsl:value-of select="bw:getHostName()"/&gt;&lt;/ns2:Hostname&gt;&lt;ns2:Application&gt;&lt;xsl:value-of select="bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)"/&gt;&lt;/ns2:Application&gt;&lt;ns2:Instance&gt;&lt;xsl:value-of select="bw:getModuleProperty(&amp;quot;BW.ENGINE.NAME&amp;quot;)"/&gt;&lt;/ns2:Instance&gt;&lt;/ns2:FaultContext&gt;&lt;/ns2:ValidationFault&gt;&lt;/tns:Response&gt;&lt;/tns:CreateExceptionEventResponse&gt;&lt;/parameters&gt;&lt;/ns1:CreateExceptionEventResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;</tibex:inputBinding>
                <tibex:inputBindings>
                    <tibex:partBinding
                        expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns8=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&#xa;    &lt;xsl:template name=&quot;ValidationFault-input&quot; match=&quot;/&quot;>&#xa;        &lt;tns:CreateExceptionEventResponse>&#xa;            &lt;xsl:variable name=&quot;varRequest&quot; select=&quot;$CreateExceptionEventIn.parameters&quot;/>&#xa;            &lt;xsl:variable name=&quot;DESC_LINES&quot; select=&quot;tokenize(substring-before(substring-after($varRequest/tns1:FaultDetails/tns1:Msg, &amp;quot;does not conform to the activity output schema.&amp;quot;), &amp;quot;Schema=&amp;quot;), &amp;quot;[-\.] &amp;quot;)&quot;/>&#xa;            &lt;xsl:variable name=&quot;EID&quot; select=&quot;tib:uuid()&quot;/>&#xa;            &lt;xsl:for-each select=&quot;$Fault&quot;>&#xa;                &lt;tns1:Fault>&#xa;                    &lt;tns2:CorrelationId>&#xa;                        &lt;xsl:value-of select=&quot;tns2:CorrelationId&quot;/>&#xa;                    &lt;/tns2:CorrelationId>&#xa;                    &lt;tns1:ExceptionId>&#xa;                        &lt;xsl:value-of select=&quot;tns1:ExceptionId&quot;/>&#xa;                    &lt;/tns1:ExceptionId>&#xa;                    &lt;tns1:ExceptionTimestamp>&#xa;                        &lt;xsl:value-of select=&quot;tns1:ExceptionTimestamp&quot;/>&#xa;                    &lt;/tns1:ExceptionTimestamp>&#xa;                    &lt;xsl:if test=&quot;tns1:ExceptionName&quot;>&#xa;                        &lt;tns1:ExceptionName>&#xa;                            &lt;xsl:value-of select=&quot;tns1:ExceptionName&quot;/>&#xa;                        &lt;/tns1:ExceptionName>&#xa;                    &lt;/xsl:if>&#xa;                    &lt;tns1:isAudited>&#xa;                        &lt;xsl:value-of select=&quot;tns1:isAudited&quot;/>&#xa;                    &lt;/tns1:isAudited>&#xa;                    &lt;xsl:copy-of select=&quot;tns1:FaultDetails&quot;/>&#xa;                    &lt;xsl:copy-of select=&quot;tns8:RuntimeContext&quot;/>&#xa;                    &lt;xsl:copy-of select=&quot;tns2:Payload&quot;/>&#xa;                &lt;/tns1:Fault>&#xa;            &lt;/xsl:for-each>&#xa;            &lt;tns:Response>&#xa;                &lt;ns2:ValidationFault>&#xa;                    &lt;ns2:FaultHeader>&#xa;                        &lt;tns2:CorrelationId>&#xa;                            &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns2:CorrelationId&quot;/>&#xa;                        &lt;/tns2:CorrelationId>&#xa;                        &lt;head1:TransactionId>&#xa;                            &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                        &lt;/head1:TransactionId>&#xa;                        &lt;head1:Version>&#xa;                            &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                        &lt;/head1:Version>&#xa;                        &lt;head1:ResponseDateTime>&#xa;                            &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                        &lt;/head1:ResponseDateTime>&#xa;                        &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;                    &lt;/ns2:FaultHeader>&#xa;                    &lt;ns2:ExceptionId>&#xa;                        &lt;xsl:value-of select=&quot;$Fault/tns1:ExceptionId&quot;/>&#xa;                    &lt;/ns2:ExceptionId>&#xa;                    &lt;ns2:ExceptionTimestamp>&#xa;                        &lt;xsl:value-of select=&quot;$varRequest/tns1:ExceptionTimestamp&quot;/>&#xa;                    &lt;/ns2:ExceptionTimestamp>&#xa;                    &lt;ns2:ExceptionName>&#xa;                        &lt;xsl:value-of select=&quot;&amp;quot;ValidationFault&amp;quot;&quot;/>&#xa;                    &lt;/ns2:ExceptionName>&#xa;                    &lt;ns2:ExceptionDescription>&#xa;                        &lt;xsl:value-of select=&quot;&amp;quot;Incorrect XML request&amp;quot;&quot;/>&#xa;                    &lt;/ns2:ExceptionDescription>&#xa;                    &lt;ns2:ExceptionDetails>&#xa;                        &lt;xsl:value-of select=&quot;string-join($DESC_LINES, &amp;quot;&amp;#xA;&amp;quot;)&quot;/>&#xa;                    &lt;/ns2:ExceptionDetails>&#xa;                    &lt;ns2:RootException>&#xa;                        &lt;ns2:ExceptionId>&#xa;                            &lt;xsl:value-of select=&quot;$Fault/tns1:ExceptionId&quot;/>&#xa;                        &lt;/ns2:ExceptionId>&#xa;                        &lt;ns2:ExceptionName>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;ValidationFault&amp;quot;&quot;/>&#xa;                        &lt;/ns2:ExceptionName>&#xa;                    &lt;/ns2:RootException>&#xa;                    &lt;ns2:FaultContext>&#xa;                        &lt;ns2:Hostname>&#xa;                            &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                        &lt;/ns2:Hostname>&#xa;                        &lt;ns2:Application>&#xa;                            &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                        &lt;/ns2:Application>&#xa;                        &lt;ns2:Instance>&#xa;                            &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.ENGINE.NAME&amp;quot;)&quot;/>&#xa;                        &lt;/ns2:Instance>&#xa;                    &lt;/ns2:FaultContext>&#xa;                &lt;/ns2:ValidationFault>&#xa;            &lt;/tns:Response>&#xa;        &lt;/tns:CreateExceptionEventResponse>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                </tibex:inputBindings>
                <bpws:targets>
                    <bpws:target linkName="Assign1ToValidationFault"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="ReplyToLog01"/>
                </bpws:sources>
            </bpws:reply>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:ns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:tns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Audit&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;area.short.names&quot;/>&lt;xsl:template name=&quot;Fault&quot; match=&quot;/&quot;>&lt;ns1:Fault>&lt;xsl:variable name=&quot;varRequest&quot; select=&quot;$CreateExceptionEventIn/parameters/tns:CreateExceptionEventRequest&quot;/>&lt;xsl:variable name=&quot;EID&quot; select=&quot;tib:uuid()&quot;/>&lt;tns2:CorrelationId>&lt;xsl:value-of select=&quot;$varRequest/tns2:CorrelationId&quot;/>&lt;/tns2:CorrelationId>&lt;ns1:ExceptionId>&lt;xsl:value-of select=&quot;$EID&quot;/>&lt;/ns1:ExceptionId>&lt;ns1:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$varRequest/ns1:ExceptionTimestamp&quot;/>&lt;/ns1:ExceptionTimestamp>&lt;ns1:ExceptionName>&lt;xsl:value-of select=&quot;$varRequest/ns1:ExceptionName&quot;/>&lt;/ns1:ExceptionName>&lt;ns1:isAudited>&lt;xsl:value-of select=&quot;false()&quot;/>&lt;/ns1:isAudited>&lt;xsl:copy-of select=&quot;$varRequest/ns1:FaultDetails&quot;/>&lt;ns2:RuntimeContext>&lt;xsl:choose>&lt;xsl:when test=&quot;contains($varRequest/ns1:FaultDetails/ns1:ProcessStack, &amp;quot;/&amp;quot;)&quot;>&lt;xsl:variable name=&quot;SN&quot; select=&quot;substring-before($varRequest/ns1:FaultDetails/ns1:ProcessStack, &amp;quot;/&amp;quot;)&quot;/>&lt;xsl:variable name=&quot;SN_TOKENS&quot; select=&quot;tokenize($SN, &amp;quot;\.&amp;quot;)&quot;/>&lt;xsl:choose>&lt;xsl:when test=&quot;count($SN_TOKENS) > 1 and $SN_TOKENS[1] = &amp;quot;services&amp;quot; and $SN_TOKENS[last()-1] != &amp;quot;sub&amp;quot;&quot;>&lt;xsl:variable name=&quot;AREAS&quot; select=&quot;tokenize($area.short.names, &amp;quot;,&amp;quot;)&quot;/>&lt;xsl:variable name=&quot;var&quot; select=&quot;concat($SN_TOKENS[3], &amp;quot;:&amp;quot;)&quot;/>&lt;xsl:variable name=&quot;var2&quot; select=&quot;concat($SN_TOKENS[3], &amp;quot;:&amp;quot;)&quot;/>&lt;xsl:variable name=&quot;AREA&quot; select=&quot;if ($SN_TOKENS[2] = &amp;quot;bs&amp;quot;) then (if (exists($AREAS[starts-with(., $var)])) then substring-after($AREAS[starts-with(., $var2)], &amp;quot;:&amp;quot;) else upper-case(tib:left(concat(&amp;quot;&amp;quot;, $SN_TOKENS[3]), 2))) else upper-case(concat(&amp;quot;&amp;quot;, $SN_TOKENS[3]))&quot;/>&lt;ns2:ServiceName>&lt;xsl:value-of select=&quot;concat(upper-case(concat(&amp;quot;&amp;quot;, $SN_TOKENS[2])), $AREA, &amp;quot;_&amp;quot;, $SN_TOKENS[last()])&quot;/>&lt;/ns2:ServiceName>&lt;/xsl:when>&lt;xsl:otherwise>&lt;ns2:ServiceName>&lt;xsl:value-of select=&quot;$SN&quot;/>&lt;/ns2:ServiceName>&lt;/xsl:otherwise>&lt;/xsl:choose>&lt;/xsl:when>&lt;xsl:otherwise>&lt;xsl:variable name=&quot;SN&quot; select=&quot;$varRequest/ns1:FaultDetails/ns1:ProcessStack&quot;/>&lt;xsl:variable name=&quot;SN_TOKENS&quot; select=&quot;tokenize($SN, &amp;quot;\.&amp;quot;)&quot;/>&lt;xsl:choose>&lt;xsl:when test=&quot;count($SN_TOKENS) > 1 and $SN_TOKENS[1] = &amp;quot;services&amp;quot; and $SN_TOKENS[last()-1] != &amp;quot;sub&amp;quot;&quot;>&lt;xsl:variable name=&quot;AREAS&quot; select=&quot;tokenize($area.short.names, &amp;quot;,&amp;quot;)&quot;/>&lt;xsl:variable name=&quot;var3&quot; select=&quot;concat($SN_TOKENS[3], &amp;quot;:&amp;quot;)&quot;/>&lt;xsl:variable name=&quot;var4&quot; select=&quot;concat($SN_TOKENS[3], &amp;quot;:&amp;quot;)&quot;/>&lt;xsl:variable name=&quot;AREA&quot; select=&quot;if ($SN_TOKENS[2] = &amp;quot;bs&amp;quot;) then (if (exists($AREAS[starts-with(., $var3)])) then substring-after($AREAS[starts-with(., $var4)], &amp;quot;:&amp;quot;) else upper-case(tib:left(concat(&amp;quot;&amp;quot;, $SN_TOKENS[3]), 2))) else upper-case(concat(&amp;quot;&amp;quot;, $SN_TOKENS[3]))&quot;/>&lt;ns2:ServiceName>&lt;xsl:value-of select=&quot;concat(upper-case(concat(&amp;quot;&amp;quot;, $SN_TOKENS[2])), $AREA, &amp;quot;_&amp;quot;, $SN_TOKENS[last()])&quot;/>&lt;/ns2:ServiceName>&lt;/xsl:when>&lt;xsl:otherwise>&lt;ns2:ServiceName>&lt;xsl:value-of select=&quot;$SN&quot;/>&lt;/ns2:ServiceName>&lt;/xsl:otherwise>&lt;/xsl:choose>&lt;/xsl:otherwise>&lt;/xsl:choose>&lt;ns2:Application>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&lt;/ns2:Application>&lt;ns2:AppNode>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&lt;/ns2:AppNode>&lt;ns2:Hostname>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.HOST.NAME&amp;quot;)&quot;/>&lt;/ns2:Hostname>&lt;/ns2:RuntimeContext>&lt;xsl:if test=&quot;$varRequest/tns1:AuditOptions/tns1:AuditPayloadEnabled = true()&quot;>&lt;tns2:Payload>&lt;xsl:copy-of select=&quot;$varRequest/tns2:Payload/*&quot;/>&lt;/tns2:Payload>&lt;/xsl:if>&lt;/ns1:Fault>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="Fault" name="Assign"
                    outputVariable="Fault"
                    tibex:xpdlId="59384f9c-ca82-45eb-98fd-b013f23818ba" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="Assign1ToAssign"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignToThrowableTimeoutFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;ThrowableTimeoutFault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="ThrowableTimeoutFault"]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToAssignValidationFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;ValidationFault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="ValidationFault"]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToValidationFault_XMLInputErrorinBS">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="$CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:ExceptionName = &quot;ValidationFault&quot; and not(exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;ValidationFault&quot;)" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[$CreateExceptionEventIn.parameters/ns4:ExceptionName = "ValidationFault" and not(exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="ValidationFault")]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;Fault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="Fault"]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToAssignBackEndFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;BackEndFault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="BackEndFault"]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToTimeoutFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;TimeoutFault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="TimeoutFault"]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToCreateExceptionEventOut">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="##otherwise##" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[##otherwise##]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToAssignBackEndFault2_ThrowableBackEndFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;ThrowableBackEndFault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="ThrowableBackEndFault"]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToAssignValidationFault2_ThrowableValidationFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;ThrowableValidationFault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="ThrowableValidationFault"]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToAssignAuthenticationFault_AuthenticationFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;AuthenticationFault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="AuthenticationFault"]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToAssignAuthenticationFault2_ThrowableAuthenticationFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;ThrowableAuthenticationFault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="ThrowableAuthenticationFault"]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="AssignToAssignDataFault2_ThrowableFault">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; and local-name($CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/ns4:FaultDetails/ns4:Data/*)=&quot;ThrowableFault&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[exists($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*) and namespace-uri($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable" and local-name($CreateExceptionEventIn.parameters/ns4:FaultDetails/ns4:Data/*)="ThrowableFault"]]></bpws:transitionCondition>
                        </bpws:source>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:ns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:tns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Audit&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;area.short.names&quot;/>&#xa;    &lt;xsl:template name=&quot;Fault&quot; match=&quot;/&quot;>&#xa;        &lt;ns1:Fault>&#xa;            &lt;xsl:variable name=&quot;varRequest&quot; select=&quot;$CreateExceptionEventIn.parameters&quot;/>&#xa;            &lt;xsl:variable name=&quot;EID&quot; select=&quot;tib:uuid()&quot;/>&#xa;            &lt;tns2:CorrelationId>&#xa;                &lt;xsl:value-of select=&quot;$varRequest/tns2:CorrelationId&quot;/>&#xa;            &lt;/tns2:CorrelationId>&#xa;            &lt;ns1:ExceptionId>&#xa;                &lt;xsl:value-of select=&quot;$EID&quot;/>&#xa;            &lt;/ns1:ExceptionId>&#xa;            &lt;ns1:ExceptionTimestamp>&#xa;                &lt;xsl:value-of select=&quot;$varRequest/ns1:ExceptionTimestamp&quot;/>&#xa;            &lt;/ns1:ExceptionTimestamp>&#xa;            &lt;ns1:ExceptionName>&#xa;                &lt;xsl:value-of select=&quot;$varRequest/ns1:ExceptionName&quot;/>&#xa;            &lt;/ns1:ExceptionName>&#xa;            &lt;ns1:isAudited>&#xa;                &lt;xsl:value-of select=&quot;false()&quot;/>&#xa;            &lt;/ns1:isAudited>&#xa;            &lt;xsl:copy-of select=&quot;$varRequest/ns1:FaultDetails&quot;/>&#xa;            &lt;ns2:RuntimeContext>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;contains($varRequest/ns1:FaultDetails/ns1:ProcessStack, &amp;quot;/&amp;quot;)&quot;>&#xa;                        &lt;xsl:variable name=&quot;SN&quot; select=&quot;substring-before($varRequest/ns1:FaultDetails/ns1:ProcessStack, &amp;quot;/&amp;quot;)&quot;/>&#xa;                        &lt;xsl:variable name=&quot;SN_TOKENS&quot; select=&quot;tokenize($SN, &amp;quot;\.&amp;quot;)&quot;/>&#xa;                        &lt;xsl:choose>&#xa;                            &lt;xsl:when test=&quot;count($SN_TOKENS) > 1 and $SN_TOKENS[1] = &amp;quot;services&amp;quot; and $SN_TOKENS[last()-1] != &amp;quot;sub&amp;quot;&quot;>&#xa;                                &lt;xsl:variable name=&quot;AREAS&quot; select=&quot;tokenize($area.short.names, &amp;quot;,&amp;quot;)&quot;/>&#xa;                                &lt;xsl:variable name=&quot;var&quot; select=&quot;concat($SN_TOKENS[3], &amp;quot;:&amp;quot;)&quot;/>&#xa;                                &lt;xsl:variable name=&quot;var2&quot; select=&quot;concat($SN_TOKENS[3], &amp;quot;:&amp;quot;)&quot;/>&#xa;                                &lt;xsl:variable name=&quot;AREA&quot; select=&quot;if ($SN_TOKENS[2] = &amp;quot;bs&amp;quot;) then (if (exists($AREAS[starts-with(., $var)])) then substring-after($AREAS[starts-with(., $var2)], &amp;quot;:&amp;quot;) else upper-case(tib:left(concat(&amp;quot;&amp;quot;, $SN_TOKENS[3]), 2))) else upper-case(concat(&amp;quot;&amp;quot;, $SN_TOKENS[3]))&quot;/>&#xa;                                &lt;ns2:ServiceName>&#xa;                                    &lt;xsl:value-of select=&quot;concat(upper-case(concat(&amp;quot;&amp;quot;, $SN_TOKENS[2])), $AREA, &amp;quot;_&amp;quot;, $SN_TOKENS[last()])&quot;/>&#xa;                                &lt;/ns2:ServiceName>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:otherwise>&#xa;                                &lt;ns2:ServiceName>&#xa;                                    &lt;xsl:value-of select=&quot;$SN&quot;/>&#xa;                                &lt;/ns2:ServiceName>&#xa;                            &lt;/xsl:otherwise>&#xa;                        &lt;/xsl:choose>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;xsl:variable name=&quot;SN&quot; select=&quot;$varRequest/ns1:FaultDetails/ns1:ProcessStack&quot;/>&#xa;                        &lt;xsl:variable name=&quot;SN_TOKENS&quot; select=&quot;tokenize($SN, &amp;quot;\.&amp;quot;)&quot;/>&#xa;                        &lt;xsl:choose>&#xa;                            &lt;xsl:when test=&quot;count($SN_TOKENS) > 1 and $SN_TOKENS[1] = &amp;quot;services&amp;quot; and $SN_TOKENS[last()-1] != &amp;quot;sub&amp;quot;&quot;>&#xa;                                &lt;xsl:variable name=&quot;AREAS&quot; select=&quot;tokenize($area.short.names, &amp;quot;,&amp;quot;)&quot;/>&#xa;                                &lt;xsl:variable name=&quot;var3&quot; select=&quot;concat($SN_TOKENS[3], &amp;quot;:&amp;quot;)&quot;/>&#xa;                                &lt;xsl:variable name=&quot;var4&quot; select=&quot;concat($SN_TOKENS[3], &amp;quot;:&amp;quot;)&quot;/>&#xa;                                &lt;xsl:variable name=&quot;AREA&quot; select=&quot;if ($SN_TOKENS[2] = &amp;quot;bs&amp;quot;) then (if (exists($AREAS[starts-with(., $var3)])) then substring-after($AREAS[starts-with(., $var4)], &amp;quot;:&amp;quot;) else upper-case(tib:left(concat(&amp;quot;&amp;quot;, $SN_TOKENS[3]), 2))) else upper-case(concat(&amp;quot;&amp;quot;, $SN_TOKENS[3]))&quot;/>&#xa;                                &lt;ns2:ServiceName>&#xa;                                    &lt;xsl:value-of select=&quot;concat(upper-case(concat(&amp;quot;&amp;quot;, $SN_TOKENS[2])), $AREA, &amp;quot;_&amp;quot;, $SN_TOKENS[last()])&quot;/>&#xa;                                &lt;/ns2:ServiceName>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:otherwise>&#xa;                                &lt;ns2:ServiceName>&#xa;                                    &lt;xsl:value-of select=&quot;$SN&quot;/>&#xa;                                &lt;/ns2:ServiceName>&#xa;                            &lt;/xsl:otherwise>&#xa;                        &lt;/xsl:choose>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;ns2:Application>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                &lt;/ns2:Application>&#xa;                &lt;ns2:AppNode>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&#xa;                &lt;/ns2:AppNode>&#xa;                &lt;ns2:Hostname>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.HOST.NAME&amp;quot;)&quot;/>&#xa;                &lt;/ns2:Hostname>&#xa;            &lt;/ns2:RuntimeContext>&#xa;            &lt;xsl:if test=&quot;$varRequest/tns1:AuditOptions/tns1:AuditPayloadEnabled = true()&quot;>&#xa;                &lt;tns2:Payload>&#xa;                    &lt;xsl:copy-of select=&quot;$varRequest/tns2:Payload/*&quot;/>&#xa;                &lt;/tns2:Payload>&#xa;            &lt;/xsl:if>&#xa;        &lt;/ns1:Fault>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="Fault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns4:CreateExceptionEventRequest/tns5:FaultDetails/tns5:Data/*, element, tns2:TimeoutFault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bwp=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:head=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; version=&quot;2.0&quot;>&lt;xsl:import-schema namespace=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; schema-location=&quot;../../../../../../../LIB_XML/Schemas/PSG/CommonServices/Data/Message/Internal/Throwable.xsd&quot;/>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;xsl:for-each select=&quot;$CreateExceptionEventIn/parameters/tns4:CreateExceptionEventRequest/tns5:FaultDetails/tns5:Data/tns2:TimeoutFault&quot;>&lt;tns2:Fault>&lt;xsl:copy-of select=&quot;tns2:FaultHeader&quot;/>&lt;xsl:if test=&quot;tns2:Severity&quot;>&lt;tns2:Severity>&lt;xsl:value-of select=&quot;tns2:Severity&quot;/>&lt;/tns2:Severity>&lt;/xsl:if>&lt;tns2:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns5:ExceptionId&quot;/>&lt;/tns2:ExceptionId>&lt;tns2:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$Fault/tns5:ExceptionTimestamp&quot;/>&lt;/tns2:ExceptionTimestamp>&lt;xsl:if test=&quot;tns2:ExceptionName&quot;>&lt;tns2:ExceptionName>&lt;xsl:value-of select=&quot;tns2:ExceptionName&quot;/>&lt;/tns2:ExceptionName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:ExceptionDescription&quot;>&lt;tns2:ExceptionDescription>&lt;xsl:value-of select=&quot;tns2:ExceptionDescription&quot;/>&lt;/tns2:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:ExceptionDetails&quot;>&lt;tns2:ExceptionDetails>&lt;xsl:value-of select=&quot;tns2:ExceptionDetails&quot;/>&lt;/tns2:ExceptionDetails>&lt;/xsl:if>&lt;xsl:copy-of select=&quot;tns2:RootException&quot;/>&lt;xsl:copy-of select=&quot;tns2:FaultContext&quot;/>&lt;/tns2:Fault>&lt;/xsl:for-each>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault"
                    name="AssignDataTimeoutFault"
                    outputVariable="DataFault"
                    tibex:xpdlId="2651d070-03c8-42a6-a9a1-092d14f7fc7c" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToTimeoutFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignDataTimeoutFaultToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bwp=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:head=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:for-each select=&quot;$CreateExceptionEventIn.parameters/tns5:FaultDetails/tns5:Data/tns2:TimeoutFault&quot;>&#xa;            &lt;tns2:Fault>&#xa;                &lt;xsl:copy-of select=&quot;tns2:FaultHeader&quot;/>&#xa;                &lt;xsl:if test=&quot;tns2:Severity&quot;>&#xa;                    &lt;tns2:Severity>&#xa;                        &lt;xsl:value-of select=&quot;tns2:Severity&quot;/>&#xa;                    &lt;/tns2:Severity>&#xa;                &lt;/xsl:if>&#xa;                &lt;tns2:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns5:ExceptionId&quot;/>&#xa;                &lt;/tns2:ExceptionId>&#xa;                &lt;tns2:ExceptionTimestamp>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns5:ExceptionTimestamp&quot;/>&#xa;                &lt;/tns2:ExceptionTimestamp>&#xa;                &lt;xsl:if test=&quot;tns2:ExceptionName&quot;>&#xa;                    &lt;tns2:ExceptionName>&#xa;                        &lt;xsl:value-of select=&quot;tns2:ExceptionName&quot;/>&#xa;                    &lt;/tns2:ExceptionName>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;tns2:ExceptionDescription&quot;>&#xa;                    &lt;tns2:ExceptionDescription>&#xa;                        &lt;xsl:value-of select=&quot;tns2:ExceptionDescription&quot;/>&#xa;                    &lt;/tns2:ExceptionDescription>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;tns2:ExceptionDetails&quot;>&#xa;                    &lt;tns2:ExceptionDetails>&#xa;                        &lt;xsl:value-of select=&quot;tns2:ExceptionDetails&quot;/>&#xa;                    &lt;/tns2:ExceptionDetails>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:copy-of select=&quot;tns2:RootException&quot;/>&#xa;                &lt;xsl:copy-of select=&quot;tns2:FaultContext&quot;/>&#xa;            &lt;/tns2:Fault>&#xa;        &lt;/xsl:for-each>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/*, element, ns1:ThrowableTimeoutFault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&lt;xsl:import-schema namespace=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; schema-location=&quot;../../../../../../../LIB_XML/Schemas/PSG/CommonServices/Data/Message/Internal/Throwable.xsd&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;tns7:Fault>&lt;tns7:FaultHeader>&lt;tns6:CorrelationId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/tns6:CorrelationId&quot;/>&lt;/tns6:CorrelationId>&lt;head1:TransactionId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&lt;/head1:TransactionId>&lt;head1:Version>&lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&lt;/head1:Version>&lt;head1:ResponseDateTime>&lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&lt;/head1:ResponseDateTime>&lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&lt;/tns7:FaultHeader>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:Severity&quot;>&lt;tns7:Severity>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:Severity&quot;/>&lt;/tns7:Severity>&lt;/xsl:if>&lt;tns7:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&lt;/tns7:ExceptionId>&lt;tns7:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionTimestamp&quot;/>&lt;/tns7:ExceptionTimestamp>&lt;tns7:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;TimeoutFault&amp;quot;&quot;/>&lt;/tns7:ExceptionName>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionDescription&quot;>&lt;tns7:ExceptionDescription>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionDescription&quot;/>&lt;/tns7:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionDetails&quot;>&lt;tns7:ExceptionDetails>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionDetails&quot;/>&lt;/tns7:ExceptionDetails>&lt;/xsl:if>&lt;tns7:RootException>&lt;tns7:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&lt;/tns7:ExceptionId>&lt;tns7:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;TimeoutFault&amp;quot;&quot;/>&lt;/tns7:ExceptionName>&lt;/tns7:RootException>&lt;tns7:FaultContext>&lt;tns7:Hostname>&lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&lt;/tns7:Hostname>&lt;tns7:Application>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&lt;/tns7:Application>&lt;tns7:Instance>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&lt;/tns7:Instance>&lt;/tns7:FaultContext>&lt;/tns7:Fault>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault"
                    name="AssignDataTimeoutFault2"
                    outputVariable="DataFault"
                    tibex:xpdlId="821d9eb7-7bc5-4489-b2bb-534d2f7c1b55" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToThrowableTimeoutFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignDataTimeoutFault2ToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;tns7:Fault>&#xa;            &lt;tns7:FaultHeader>&#xa;                &lt;tns6:CorrelationId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns6:CorrelationId&quot;/>&#xa;                &lt;/tns6:CorrelationId>&#xa;                &lt;head1:TransactionId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                &lt;/head1:TransactionId>&#xa;                &lt;head1:Version>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                &lt;/head1:Version>&#xa;                &lt;head1:ResponseDateTime>&#xa;                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                &lt;/head1:ResponseDateTime>&#xa;                &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;            &lt;/tns7:FaultHeader>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:Severity&quot;>&#xa;                &lt;tns7:Severity>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:Severity&quot;/>&#xa;                &lt;/tns7:Severity>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns7:ExceptionId>&#xa;                &lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&#xa;            &lt;/tns7:ExceptionId>&#xa;            &lt;tns7:ExceptionTimestamp>&#xa;                &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionTimestamp&quot;/>&#xa;            &lt;/tns7:ExceptionTimestamp>&#xa;            &lt;tns7:ExceptionName>&#xa;                &lt;xsl:value-of select=&quot;&amp;quot;TimeoutFault&amp;quot;&quot;/>&#xa;            &lt;/tns7:ExceptionName>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionDescription&quot;>&#xa;                &lt;tns7:ExceptionDescription>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionDescription&quot;/>&#xa;                &lt;/tns7:ExceptionDescription>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionDetails&quot;>&#xa;                &lt;tns7:ExceptionDetails>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableTimeoutFault/tns7:ExceptionDetails&quot;/>&#xa;                &lt;/tns7:ExceptionDetails>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns7:RootException>&#xa;                &lt;tns7:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&#xa;                &lt;/tns7:ExceptionId>&#xa;                &lt;tns7:ExceptionName>&#xa;                    &lt;xsl:value-of select=&quot;&amp;quot;TimeoutFault&amp;quot;&quot;/>&#xa;                &lt;/tns7:ExceptionName>&#xa;            &lt;/tns7:RootException>&#xa;            &lt;tns7:FaultContext>&#xa;                &lt;tns7:Hostname>&#xa;                    &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                &lt;/tns7:Hostname>&#xa;                &lt;tns7:Application>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns7:Application>&#xa;                &lt;tns7:Instance>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns7:Instance>&#xa;            &lt;/tns7:FaultContext>&#xa;        &lt;/tns7:Fault>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns4:CreateExceptionEventRequest/tns3:FaultDetails/tns3:Data/*, element, tns2:Fault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:head=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;xsl:for-each select=&quot;$CreateExceptionEventIn/parameters/tns4:CreateExceptionEventRequest/tns3:FaultDetails/tns3:Data/tns2:Fault&quot;>&lt;tns2:Fault>&lt;xsl:copy-of select=&quot;tns2:FaultHeader&quot;/>&lt;tns2:Severity>&lt;xsl:value-of select=&quot;tns2:ExceptionId&quot;/>&lt;/tns2:Severity>&lt;tns2:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns3:ExceptionId&quot;/>&lt;/tns2:ExceptionId>&lt;tns2:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$Fault/tns3:ExceptionTimestamp&quot;/>&lt;/tns2:ExceptionTimestamp>&lt;xsl:if test=&quot;tns2:ExceptionName&quot;>&lt;tns2:ExceptionName>&lt;xsl:value-of select=&quot;tns2:ExceptionName&quot;/>&lt;/tns2:ExceptionName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:ExceptionDescription&quot;>&lt;tns2:ExceptionDescription>&lt;xsl:value-of select=&quot;tns2:ExceptionDescription&quot;/>&lt;/tns2:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:ExceptionDetails&quot;>&lt;tns2:ExceptionDetails>&lt;xsl:value-of select=&quot;tns2:ExceptionDetails&quot;/>&lt;/tns2:ExceptionDetails>&lt;/xsl:if>&lt;xsl:copy-of select=&quot;tns2:RootException&quot;/>&lt;xsl:copy-of select=&quot;tns2:FaultContext&quot;/>&lt;/tns2:Fault>&lt;/xsl:for-each>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault" name="AssignDataFault"
                    outputVariable="DataFault"
                    tibex:xpdlId="52d23ce2-e3fc-43a1-9e09-c71e58d4240d" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignDataFaulToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:head=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:for-each select=&quot;$CreateExceptionEventIn.parameters/tns3:FaultDetails/tns3:Data/tns2:Fault&quot;>&#xa;            &lt;tns2:Fault>&#xa;                &lt;xsl:copy-of select=&quot;tns2:FaultHeader&quot;/>&#xa;                &lt;tns2:Severity>&#xa;                    &lt;xsl:value-of select=&quot;tns2:ExceptionId&quot;/>&#xa;                &lt;/tns2:Severity>&#xa;                &lt;tns2:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns3:ExceptionId&quot;/>&#xa;                &lt;/tns2:ExceptionId>&#xa;                &lt;tns2:ExceptionTimestamp>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns3:ExceptionTimestamp&quot;/>&#xa;                &lt;/tns2:ExceptionTimestamp>&#xa;                &lt;xsl:if test=&quot;tns2:ExceptionName&quot;>&#xa;                    &lt;tns2:ExceptionName>&#xa;                        &lt;xsl:value-of select=&quot;tns2:ExceptionName&quot;/>&#xa;                    &lt;/tns2:ExceptionName>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;tns2:ExceptionDescription&quot;>&#xa;                    &lt;tns2:ExceptionDescription>&#xa;                        &lt;xsl:value-of select=&quot;tns2:ExceptionDescription&quot;/>&#xa;                    &lt;/tns2:ExceptionDescription>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;tns2:ExceptionDetails&quot;>&#xa;                    &lt;tns2:ExceptionDetails>&#xa;                        &lt;xsl:value-of select=&quot;tns2:ExceptionDetails&quot;/>&#xa;                    &lt;/tns2:ExceptionDetails>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:copy-of select=&quot;tns2:RootException&quot;/>&#xa;                &lt;xsl:copy-of select=&quot;tns2:FaultContext&quot;/>&#xa;            &lt;/tns2:Fault>&#xa;        &lt;/xsl:for-each>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/tns2:FaultDetails/tns2:Data/*, element, ns1:BackEndFault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;xsl:for-each select=&quot;$CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/tns2:FaultDetails/tns2:Data/ns1:BackEndFault&quot;>&lt;ns1:Fault>&lt;xsl:copy-of select=&quot;ns1:FaultHeader&quot;/>&lt;xsl:if test=&quot;ns1:Severity&quot;>&lt;ns1:Severity>&lt;xsl:value-of select=&quot;ns1:Severity&quot;/>&lt;/ns1:Severity>&lt;/xsl:if>&lt;ns1:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns2:ExceptionId&quot;/>&lt;/ns1:ExceptionId>&lt;ns1:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$Fault/tns2:ExceptionTimestamp&quot;/>&lt;/ns1:ExceptionTimestamp>&lt;xsl:if test=&quot;ns1:ExceptionName&quot;>&lt;ns1:ExceptionName>&lt;xsl:value-of select=&quot;ns1:ExceptionName&quot;/>&lt;/ns1:ExceptionName>&lt;/xsl:if>&lt;xsl:if test=&quot;ns1:ExceptionDescription&quot;>&lt;ns1:ExceptionDescription>&lt;xsl:value-of select=&quot;ns1:ExceptionDescription&quot;/>&lt;/ns1:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;not(starts-with(ns1:ExceptionDetails, &amp;quot;faultcode:&amp;quot;))&quot;>&lt;xsl:if test=&quot;ns1:ExceptionDetails&quot;>&lt;ns1:ExceptionDetails>&lt;xsl:value-of select=&quot;ns1:ExceptionDetails&quot;/>&lt;/ns1:ExceptionDetails>&lt;/xsl:if>&lt;/xsl:if>&lt;xsl:copy-of select=&quot;ns1:RootException&quot;/>&lt;xsl:copy-of select=&quot;ns1:FaultContext&quot;/>&lt;/ns1:Fault>&lt;/xsl:for-each>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault" name="AssignBackEndFault"
                    outputVariable="DataFault"
                    tibex:xpdlId="4286900c-13a4-4b27-bbe5-146cc9b00a87" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToAssignBackEndFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignBackEndFaultToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:for-each select=&quot;$CreateExceptionEventIn.parameters/tns2:FaultDetails/tns2:Data/ns1:BackEndFault&quot;>&#xa;            &lt;ns1:Fault>&#xa;                &lt;xsl:copy-of select=&quot;ns1:FaultHeader&quot;/>&#xa;                &lt;xsl:if test=&quot;ns1:Severity&quot;>&#xa;                    &lt;ns1:Severity>&#xa;                        &lt;xsl:value-of select=&quot;ns1:Severity&quot;/>&#xa;                    &lt;/ns1:Severity>&#xa;                &lt;/xsl:if>&#xa;                &lt;ns1:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns2:ExceptionId&quot;/>&#xa;                &lt;/ns1:ExceptionId>&#xa;                &lt;ns1:ExceptionTimestamp>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns2:ExceptionTimestamp&quot;/>&#xa;                &lt;/ns1:ExceptionTimestamp>&#xa;                &lt;xsl:if test=&quot;ns1:ExceptionName&quot;>&#xa;                    &lt;ns1:ExceptionName>&#xa;                        &lt;xsl:value-of select=&quot;ns1:ExceptionName&quot;/>&#xa;                    &lt;/ns1:ExceptionName>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;ns1:ExceptionDescription&quot;>&#xa;                    &lt;ns1:ExceptionDescription>&#xa;                        &lt;xsl:value-of select=&quot;ns1:ExceptionDescription&quot;/>&#xa;                    &lt;/ns1:ExceptionDescription>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;not(starts-with(ns1:ExceptionDetails, &amp;quot;faultcode:&amp;quot;))&quot;>&#xa;                    &lt;xsl:if test=&quot;ns1:ExceptionDetails&quot;>&#xa;                        &lt;ns1:ExceptionDetails>&#xa;                            &lt;xsl:value-of select=&quot;ns1:ExceptionDetails&quot;/>&#xa;                        &lt;/ns1:ExceptionDetails>&#xa;                    &lt;/xsl:if>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:copy-of select=&quot;ns1:RootException&quot;/>&#xa;                &lt;xsl:copy-of select=&quot;ns1:FaultContext&quot;/>&#xa;            &lt;/ns1:Fault>&#xa;        &lt;/xsl:for-each>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/*, element, ns1:ThrowableBackEndFault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&lt;xsl:import-schema namespace=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; schema-location=&quot;../../../../../../../LIB_XML/Schemas/PSG/CommonServices/Data/Message/Internal/Throwable.xsd&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;tns6:Fault>&lt;tns6:FaultHeader>&lt;tns7:CorrelationId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/tns7:CorrelationId&quot;/>&lt;/tns7:CorrelationId>&lt;head1:TransactionId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&lt;/head1:TransactionId>&lt;head1:Version>&lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&lt;/head1:Version>&lt;head1:ResponseDateTime>&lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&lt;/head1:ResponseDateTime>&lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&lt;/tns6:FaultHeader>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:Severity&quot;>&lt;tns6:Severity>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:Severity&quot;/>&lt;/tns6:Severity>&lt;/xsl:if>&lt;tns6:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&lt;/tns6:ExceptionId>&lt;tns6:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionTimestamp&quot;/>&lt;/tns6:ExceptionTimestamp>&lt;tns6:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&lt;/tns6:ExceptionName>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionDescription&quot;>&lt;tns6:ExceptionDescription>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionDescription&quot;/>&lt;/tns6:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionDetails&quot;>&lt;tns6:ExceptionDetails>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionDetails&quot;/>&lt;/tns6:ExceptionDetails>&lt;/xsl:if>&lt;tns6:RootException>&lt;tns6:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&lt;/tns6:ExceptionId>&lt;tns6:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&lt;/tns6:ExceptionName>&lt;/tns6:RootException>&lt;tns6:FaultContext>&lt;tns6:Hostname>&lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&lt;/tns6:Hostname>&lt;tns6:Application>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&lt;/tns6:Application>&lt;tns6:Instance>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&lt;/tns6:Instance>&lt;/tns6:FaultContext>&lt;/tns6:Fault>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault" name="AssignBackEndFault2"
                    outputVariable="DataFault"
                    tibex:xpdlId="269b04ca-6e65-438e-8649-f0bce5632fcb" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToAssignBackEndFault2_ThrowableBackEndFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignBackEndFault2ToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;tns6:Fault>&#xa;            &lt;tns6:FaultHeader>&#xa;                &lt;tns7:CorrelationId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns7:CorrelationId&quot;/>&#xa;                &lt;/tns7:CorrelationId>&#xa;                &lt;head1:TransactionId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                &lt;/head1:TransactionId>&#xa;                &lt;head1:Version>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                &lt;/head1:Version>&#xa;                &lt;head1:ResponseDateTime>&#xa;                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                &lt;/head1:ResponseDateTime>&#xa;                &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;            &lt;/tns6:FaultHeader>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:Severity&quot;>&#xa;                &lt;tns6:Severity>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:Severity&quot;/>&#xa;                &lt;/tns6:Severity>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns6:ExceptionId>&#xa;                &lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&#xa;            &lt;/tns6:ExceptionId>&#xa;            &lt;tns6:ExceptionTimestamp>&#xa;                &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionTimestamp&quot;/>&#xa;            &lt;/tns6:ExceptionTimestamp>&#xa;            &lt;tns6:ExceptionName>&#xa;                &lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&#xa;            &lt;/tns6:ExceptionName>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionDescription&quot;>&#xa;                &lt;tns6:ExceptionDescription>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionDescription&quot;/>&#xa;                &lt;/tns6:ExceptionDescription>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionDetails&quot;>&#xa;                &lt;tns6:ExceptionDetails>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableBackEndFault/tns6:ExceptionDetails&quot;/>&#xa;                &lt;/tns6:ExceptionDetails>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns6:RootException>&#xa;                &lt;tns6:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&#xa;                &lt;/tns6:ExceptionId>&#xa;                &lt;tns6:ExceptionName>&#xa;                    &lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&#xa;                &lt;/tns6:ExceptionName>&#xa;            &lt;/tns6:RootException>&#xa;            &lt;tns6:FaultContext>&#xa;                &lt;tns6:Hostname>&#xa;                    &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                &lt;/tns6:Hostname>&#xa;                &lt;tns6:Application>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns6:Application>&#xa;                &lt;tns6:Instance>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns6:Instance>&#xa;            &lt;/tns6:FaultContext>&#xa;        &lt;/tns6:Fault>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/tns2:FaultDetails/tns2:Data/*, element, ns1:ValidationFault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;xsl:for-each select=&quot;$CreateExceptionEventIn/parameters/tns3:CreateExceptionEventRequest/tns2:FaultDetails/tns2:Data/ns1:ValidationFault&quot;>&lt;ns1:Fault>&lt;xsl:copy-of select=&quot;ns1:FaultHeader&quot;/>&lt;xsl:if test=&quot;ns1:Severity&quot;>&lt;ns1:Severity>&lt;xsl:value-of select=&quot;ns1:Severity&quot;/>&lt;/ns1:Severity>&lt;/xsl:if>&lt;ns1:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns2:ExceptionId&quot;/>&lt;/ns1:ExceptionId>&lt;ns1:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$Fault/tns2:ExceptionTimestamp&quot;/>&lt;/ns1:ExceptionTimestamp>&lt;xsl:if test=&quot;ns1:ExceptionName&quot;>&lt;ns1:ExceptionName>&lt;xsl:value-of select=&quot;ns1:ExceptionName&quot;/>&lt;/ns1:ExceptionName>&lt;/xsl:if>&lt;xsl:if test=&quot;ns1:ExceptionDescription&quot;>&lt;ns1:ExceptionDescription>&lt;xsl:value-of select=&quot;ns1:ExceptionDescription&quot;/>&lt;/ns1:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;ns1:ExceptionDetails&quot;>&lt;ns1:ExceptionDetails>&lt;xsl:value-of select=&quot;ns1:ExceptionDetails&quot;/>&lt;/ns1:ExceptionDetails>&lt;/xsl:if>&lt;xsl:copy-of select=&quot;ns1:RootException&quot;/>&lt;xsl:copy-of select=&quot;ns1:FaultContext&quot;/>&lt;/ns1:Fault>&lt;/xsl:for-each>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault"
                    name="AssignValidationFault"
                    outputVariable="DataFault"
                    tibex:xpdlId="4bc1591f-76e6-436a-9ff6-50eae8157bf8" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToAssignValidationFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignValidationFaultToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:for-each select=&quot;$CreateExceptionEventIn.parameters/tns2:FaultDetails/tns2:Data/ns1:ValidationFault&quot;>&#xa;            &lt;ns1:Fault>&#xa;                &lt;xsl:copy-of select=&quot;ns1:FaultHeader&quot;/>&#xa;                &lt;xsl:if test=&quot;ns1:Severity&quot;>&#xa;                    &lt;ns1:Severity>&#xa;                        &lt;xsl:value-of select=&quot;ns1:Severity&quot;/>&#xa;                    &lt;/ns1:Severity>&#xa;                &lt;/xsl:if>&#xa;                &lt;ns1:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns2:ExceptionId&quot;/>&#xa;                &lt;/ns1:ExceptionId>&#xa;                &lt;ns1:ExceptionTimestamp>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns2:ExceptionTimestamp&quot;/>&#xa;                &lt;/ns1:ExceptionTimestamp>&#xa;                &lt;xsl:if test=&quot;ns1:ExceptionName&quot;>&#xa;                    &lt;ns1:ExceptionName>&#xa;                        &lt;xsl:value-of select=&quot;ns1:ExceptionName&quot;/>&#xa;                    &lt;/ns1:ExceptionName>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;ns1:ExceptionDescription&quot;>&#xa;                    &lt;ns1:ExceptionDescription>&#xa;                        &lt;xsl:value-of select=&quot;ns1:ExceptionDescription&quot;/>&#xa;                    &lt;/ns1:ExceptionDescription>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;ns1:ExceptionDetails&quot;>&#xa;                    &lt;ns1:ExceptionDetails>&#xa;                        &lt;xsl:value-of select=&quot;ns1:ExceptionDetails&quot;/>&#xa;                    &lt;/ns1:ExceptionDetails>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:copy-of select=&quot;ns1:RootException&quot;/>&#xa;                &lt;xsl:copy-of select=&quot;ns1:FaultContext&quot;/>&#xa;            &lt;/ns1:Fault>&#xa;        &lt;/xsl:for-each>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/*, element, ns1:ThrowableValidationFault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&lt;xsl:import-schema namespace=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; schema-location=&quot;../../../../../../../LIB_XML/Schemas/PSG/CommonServices/Data/Message/Internal/Throwable.xsd&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;tns7:Fault>&lt;tns7:FaultHeader>&lt;tns4:CorrelationId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/tns4:CorrelationId&quot;/>&lt;/tns4:CorrelationId>&lt;head1:TransactionId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&lt;/head1:TransactionId>&lt;head1:Version>&lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&lt;/head1:Version>&lt;head1:ResponseDateTime>&lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&lt;/head1:ResponseDateTime>&lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&lt;/tns7:FaultHeader>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:Severity&quot;>&lt;tns7:Severity>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:Severity&quot;/>&lt;/tns7:Severity>&lt;/xsl:if>&lt;tns7:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns6:ExceptionId&quot;/>&lt;/tns7:ExceptionId>&lt;tns7:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionTimestamp&quot;/>&lt;/tns7:ExceptionTimestamp>&lt;tns7:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;ValidationFault&amp;quot;&quot;/>&lt;/tns7:ExceptionName>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionDescription&quot;>&lt;tns7:ExceptionDescription>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionDescription&quot;/>&lt;/tns7:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionDetails&quot;>&lt;tns7:ExceptionDetails>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionDetails&quot;/>&lt;/tns7:ExceptionDetails>&lt;/xsl:if>&lt;tns7:RootException>&lt;tns7:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns6:ExceptionId&quot;/>&lt;/tns7:ExceptionId>&lt;tns7:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;ValidationFault&amp;quot;&quot;/>&lt;/tns7:ExceptionName>&lt;/tns7:RootException>&lt;tns7:FaultContext>&lt;tns7:Hostname>&lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&lt;/tns7:Hostname>&lt;tns7:Application>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&lt;/tns7:Application>&lt;tns7:Instance>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&lt;/tns7:Instance>&lt;/tns7:FaultContext>&lt;/tns7:Fault>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault"
                    name="AssignValidationFault2"
                    outputVariable="DataFault"
                    tibex:xpdlId="25e3c067-4038-4d0e-a80e-262599604a1d" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToAssignValidationFault2_ThrowableValidationFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignValidationFault2ToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;tns7:Fault>&#xa;            &lt;tns7:FaultHeader>&#xa;                &lt;tns4:CorrelationId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns4:CorrelationId&quot;/>&#xa;                &lt;/tns4:CorrelationId>&#xa;                &lt;head1:TransactionId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                &lt;/head1:TransactionId>&#xa;                &lt;head1:Version>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                &lt;/head1:Version>&#xa;                &lt;head1:ResponseDateTime>&#xa;                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                &lt;/head1:ResponseDateTime>&#xa;                &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;            &lt;/tns7:FaultHeader>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:Severity&quot;>&#xa;                &lt;tns7:Severity>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:Severity&quot;/>&#xa;                &lt;/tns7:Severity>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns7:ExceptionId>&#xa;                &lt;xsl:value-of select=&quot;$Fault/tns6:ExceptionId&quot;/>&#xa;            &lt;/tns7:ExceptionId>&#xa;            &lt;tns7:ExceptionTimestamp>&#xa;                &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionTimestamp&quot;/>&#xa;            &lt;/tns7:ExceptionTimestamp>&#xa;            &lt;tns7:ExceptionName>&#xa;                &lt;xsl:value-of select=&quot;&amp;quot;ValidationFault&amp;quot;&quot;/>&#xa;            &lt;/tns7:ExceptionName>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionDescription&quot;>&#xa;                &lt;tns7:ExceptionDescription>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionDescription&quot;/>&#xa;                &lt;/tns7:ExceptionDescription>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionDetails&quot;>&#xa;                &lt;tns7:ExceptionDetails>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableValidationFault/tns7:ExceptionDetails&quot;/>&#xa;                &lt;/tns7:ExceptionDetails>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns7:RootException>&#xa;                &lt;tns7:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns6:ExceptionId&quot;/>&#xa;                &lt;/tns7:ExceptionId>&#xa;                &lt;tns7:ExceptionName>&#xa;                    &lt;xsl:value-of select=&quot;&amp;quot;ValidationFault&amp;quot;&quot;/>&#xa;                &lt;/tns7:ExceptionName>&#xa;            &lt;/tns7:RootException>&#xa;            &lt;tns7:FaultContext>&#xa;                &lt;tns7:Hostname>&#xa;                    &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                &lt;/tns7:Hostname>&#xa;                &lt;tns7:Application>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns7:Application>&#xa;                &lt;tns7:Instance>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns7:Instance>&#xa;            &lt;/tns7:FaultContext>&#xa;        &lt;/tns7:Fault>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:param name=&quot;DataFault&quot;/>&lt;xsl:template name=&quot;Fault&quot; match=&quot;/&quot;>&lt;xsl:for-each select=&quot;$Fault&quot;>&lt;tns6:Fault>&lt;tns5:CorrelationId>&lt;xsl:value-of select=&quot;tns5:CorrelationId&quot;/>&lt;/tns5:CorrelationId>&lt;tns6:ExceptionId>&lt;xsl:value-of select=&quot;tns6:ExceptionId&quot;/>&lt;/tns6:ExceptionId>&lt;tns6:ExceptionTimestamp>&lt;xsl:value-of select=&quot;tns6:ExceptionTimestamp&quot;/>&lt;/tns6:ExceptionTimestamp>&lt;xsl:if test=&quot;tns6:ExceptionName&quot;>&lt;tns6:ExceptionName>&lt;xsl:value-of select=&quot;tns6:ExceptionName&quot;/>&lt;/tns6:ExceptionName>&lt;/xsl:if>&lt;tns6:isAudited>&lt;xsl:value-of select=&quot;tns6:isAudited&quot;/>&lt;/tns6:isAudited>&lt;tns6:FaultDetails>&lt;tns6:ActivityName>&lt;xsl:value-of select=&quot;tns6:FaultDetails/tns6:ActivityName&quot;/>&lt;/tns6:ActivityName>&lt;tns6:Data>&lt;xsl:copy-of select=&quot;tns6:FaultDetails/tns6:Data/*&quot;/>&lt;/tns6:Data>&lt;tns6:Msg>&lt;xsl:value-of select=&quot;$DataFault/tns2:ExceptionDescription&quot;/>&lt;/tns6:Msg>&lt;tns6:MsgCode>&lt;xsl:value-of select=&quot;$DataFault/tns2:ExceptionName&quot;/>&lt;/tns6:MsgCode>&lt;tns6:ProcessStack>&lt;xsl:value-of select=&quot;tns6:FaultDetails/tns6:ProcessStack&quot;/>&lt;/tns6:ProcessStack>&lt;tns6:StackTrace>&lt;xsl:value-of select=&quot;tns6:FaultDetails/tns6:StackTrace&quot;/>&lt;/tns6:StackTrace>&lt;/tns6:FaultDetails>&lt;xsl:copy-of select=&quot;tns4:RuntimeContext&quot;/>&lt;xsl:copy-of select=&quot;tns5:Payload&quot;/>&lt;/tns6:Fault>&lt;/xsl:for-each>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="Fault" name="AssignFault"
                    outputVariable="Fault"
                    tibex:xpdlId="3fd813df-f184-47b3-9d44-4845c0488fa1" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignDataFaulToAssignFault"/>
                        <bpws:target linkName="AssignDataTimeoutFaultToAssignFault"/>
                        <bpws:target linkName="AssignValidationFault2ToAssignFault"/>
                        <bpws:target linkName="AssignDataTimeoutFault2ToAssignFault"/>
                        <bpws:target linkName="AssignBackEndFaultToAssignFault"/>
                        <bpws:target linkName="AssignValidationFaultToAssignFault"/>
                        <bpws:target linkName="AssignBackEndFault2ToAssignFault"/>
                        <bpws:target linkName="AssignAuthenticationFault2ToAssignFault"/>
                        <bpws:target linkName="AssignAuthenticationFaultToAssignFault"/>
                        <bpws:target linkName="AssignDataFault2ToAssignFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignFaultToFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:param name=&quot;DataFault&quot;/>&lt;xsl:template name=&quot;Fault&quot; match=&quot;/&quot;>&lt;xsl:for-each select=&quot;$Fault&quot;>&lt;tns6:Fault>&lt;tns5:CorrelationId>&lt;xsl:value-of select=&quot;tns5:CorrelationId&quot;/>&lt;/tns5:CorrelationId>&lt;tns6:ExceptionId>&lt;xsl:value-of select=&quot;tns6:ExceptionId&quot;/>&lt;/tns6:ExceptionId>&lt;tns6:ExceptionTimestamp>&lt;xsl:value-of select=&quot;tns6:ExceptionTimestamp&quot;/>&lt;/tns6:ExceptionTimestamp>&lt;xsl:if test=&quot;tns6:ExceptionName&quot;>&lt;tns6:ExceptionName>&lt;xsl:value-of select=&quot;tns6:ExceptionName&quot;/>&lt;/tns6:ExceptionName>&lt;/xsl:if>&lt;tns6:isAudited>&lt;xsl:value-of select=&quot;tns6:isAudited&quot;/>&lt;/tns6:isAudited>&lt;tns6:FaultDetails>&lt;tns6:ActivityName>&lt;xsl:value-of select=&quot;tns6:FaultDetails/tns6:ActivityName&quot;/>&lt;/tns6:ActivityName>&lt;tns6:Data>&lt;xsl:copy-of select=&quot;tns6:FaultDetails/tns6:Data/*&quot;/>&lt;/tns6:Data>&lt;tns6:Msg>&lt;xsl:value-of select=&quot;$DataFault/tns2:ExceptionDescription&quot;/>&lt;/tns6:Msg>&lt;tns6:MsgCode>&lt;xsl:value-of select=&quot;$DataFault/tns2:ExceptionName&quot;/>&lt;/tns6:MsgCode>&lt;tns6:ProcessStack>&lt;xsl:value-of select=&quot;tns6:FaultDetails/tns6:ProcessStack&quot;/>&lt;/tns6:ProcessStack>&lt;tns6:StackTrace>&lt;xsl:value-of select=&quot;tns6:FaultDetails/tns6:StackTrace&quot;/>&lt;/tns6:StackTrace>&lt;/tns6:FaultDetails>&lt;xsl:copy-of select=&quot;tns4:RuntimeContext&quot;/>&lt;xsl:copy-of select=&quot;tns5:Payload&quot;/>&lt;/tns6:Fault>&lt;/xsl:for-each>&lt;/xsl:template>&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="Fault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:template name=&quot;Fault&quot; match=&quot;/&quot;>&lt;xsl:for-each select=&quot;$Fault&quot;>&lt;tns3:Fault>&lt;tns5:CorrelationId>&lt;xsl:value-of select=&quot;tns5:CorrelationId&quot;/>&lt;/tns5:CorrelationId>&lt;tns3:ExceptionId>&lt;xsl:value-of select=&quot;tns3:ExceptionId&quot;/>&lt;/tns3:ExceptionId>&lt;tns3:ExceptionTimestamp>&lt;xsl:value-of select=&quot;tns3:ExceptionTimestamp&quot;/>&lt;/tns3:ExceptionTimestamp>&lt;tns3:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;ValidationFault&amp;quot;&quot;/>&lt;/tns3:ExceptionName>&lt;tns3:isAudited>&lt;xsl:value-of select=&quot;tns3:isAudited&quot;/>&lt;/tns3:isAudited>&lt;xsl:copy-of select=&quot;tns3:FaultDetails&quot;/>&lt;xsl:copy-of select=&quot;tns4:RuntimeContext&quot;/>&lt;xsl:copy-of select=&quot;tns5:Payload&quot;/>&lt;/tns3:Fault>&lt;/xsl:for-each>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="Fault" name="AssignFault_Validation"
                    outputVariable="Fault"
                    tibex:xpdlId="6f22cef3-abfa-4bf2-8d91-b4118862686c" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToValidationFault_XMLInputErrorinBS"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="Assign1ToValidationFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:template name=&quot;Fault&quot; match=&quot;/&quot;>&lt;xsl:for-each select=&quot;$Fault&quot;>&lt;tns3:Fault>&lt;tns5:CorrelationId>&lt;xsl:value-of select=&quot;tns5:CorrelationId&quot;/>&lt;/tns5:CorrelationId>&lt;tns3:ExceptionId>&lt;xsl:value-of select=&quot;tns3:ExceptionId&quot;/>&lt;/tns3:ExceptionId>&lt;tns3:ExceptionTimestamp>&lt;xsl:value-of select=&quot;tns3:ExceptionTimestamp&quot;/>&lt;/tns3:ExceptionTimestamp>&lt;tns3:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;ValidationFault&amp;quot;&quot;/>&lt;/tns3:ExceptionName>&lt;tns3:isAudited>&lt;xsl:value-of select=&quot;tns3:isAudited&quot;/>&lt;/tns3:isAudited>&lt;xsl:copy-of select=&quot;tns3:FaultDetails&quot;/>&lt;xsl:copy-of select=&quot;tns4:RuntimeContext&quot;/>&lt;xsl:copy-of select=&quot;tns5:Payload&quot;/>&lt;/tns3:Fault>&lt;/xsl:for-each>&lt;/xsl:template>&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="Fault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns4:CreateExceptionEventRequest/tns3:FaultDetails/tns3:Data/*, element, tns2:AuthenticationFault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;xsl:for-each select=&quot;$CreateExceptionEventIn/parameters/tns4:CreateExceptionEventRequest/tns3:FaultDetails/tns3:Data/tns2:AuthenticationFault&quot;>&lt;tns2:Fault>&lt;xsl:copy-of select=&quot;tns2:FaultHeader&quot;/>&lt;xsl:if test=&quot;tns2:Severity&quot;>&lt;tns2:Severity>&lt;xsl:value-of select=&quot;tns2:Severity&quot;/>&lt;/tns2:Severity>&lt;/xsl:if>&lt;tns2:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns3:ExceptionId&quot;/>&lt;/tns2:ExceptionId>&lt;tns2:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$Fault/tns3:ExceptionTimestamp&quot;/>&lt;/tns2:ExceptionTimestamp>&lt;xsl:if test=&quot;tns2:ExceptionName&quot;>&lt;tns2:ExceptionName>&lt;xsl:value-of select=&quot;tns2:ExceptionName&quot;/>&lt;/tns2:ExceptionName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:ExceptionDescription&quot;>&lt;tns2:ExceptionDescription>&lt;xsl:value-of select=&quot;tns2:ExceptionDescription&quot;/>&lt;/tns2:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:ExceptionDetails&quot;>&lt;tns2:ExceptionDetails>&lt;xsl:value-of select=&quot;tns2:ExceptionDetails&quot;/>&lt;/tns2:ExceptionDetails>&lt;/xsl:if>&lt;xsl:copy-of select=&quot;tns2:RootException&quot;/>&lt;xsl:copy-of select=&quot;tns2:FaultContext&quot;/>&lt;/tns2:Fault>&lt;/xsl:for-each>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault"
                    name="AssignAuthenticationFault"
                    outputVariable="DataFault"
                    tibex:xpdlId="79c4fbd1-53e3-4f07-8bf4-89e0143ec12a" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToAssignAuthenticationFault_AuthenticationFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignAuthenticationFaultToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:tns3=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:for-each select=&quot;$CreateExceptionEventIn.parameters/tns3:FaultDetails/tns3:Data/tns2:AuthenticationFault&quot;>&#xa;            &lt;tns2:Fault>&#xa;                &lt;xsl:copy-of select=&quot;tns2:FaultHeader&quot;/>&#xa;                &lt;xsl:if test=&quot;tns2:Severity&quot;>&#xa;                    &lt;tns2:Severity>&#xa;                        &lt;xsl:value-of select=&quot;tns2:Severity&quot;/>&#xa;                    &lt;/tns2:Severity>&#xa;                &lt;/xsl:if>&#xa;                &lt;tns2:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns3:ExceptionId&quot;/>&#xa;                &lt;/tns2:ExceptionId>&#xa;                &lt;tns2:ExceptionTimestamp>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns3:ExceptionTimestamp&quot;/>&#xa;                &lt;/tns2:ExceptionTimestamp>&#xa;                &lt;xsl:if test=&quot;tns2:ExceptionName&quot;>&#xa;                    &lt;tns2:ExceptionName>&#xa;                        &lt;xsl:value-of select=&quot;tns2:ExceptionName&quot;/>&#xa;                    &lt;/tns2:ExceptionName>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;tns2:ExceptionDescription&quot;>&#xa;                    &lt;tns2:ExceptionDescription>&#xa;                        &lt;xsl:value-of select=&quot;tns2:ExceptionDescription&quot;/>&#xa;                    &lt;/tns2:ExceptionDescription>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;tns2:ExceptionDetails&quot;>&#xa;                    &lt;tns2:ExceptionDetails>&#xa;                        &lt;xsl:value-of select=&quot;tns2:ExceptionDetails&quot;/>&#xa;                    &lt;/tns2:ExceptionDetails>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:copy-of select=&quot;tns2:RootException&quot;/>&#xa;                &lt;xsl:copy-of select=&quot;tns2:FaultContext&quot;/>&#xa;            &lt;/tns2:Fault>&#xa;        &lt;/xsl:for-each>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/*, element, ns1:ThrowableAuthenticationFault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&lt;xsl:import-schema namespace=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; schema-location=&quot;../../../../../../../LIB_XML/Schemas/PSG/CommonServices/Data/Message/Internal/Throwable.xsd&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;tns7:Fault>&lt;tns7:FaultHeader>&lt;tns6:CorrelationId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/tns6:CorrelationId&quot;/>&lt;/tns6:CorrelationId>&lt;head1:TransactionId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&lt;/head1:TransactionId>&lt;head1:Version>&lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&lt;/head1:Version>&lt;head1:ResponseDateTime>&lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&lt;/head1:ResponseDateTime>&lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&lt;/tns7:FaultHeader>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:Severity&quot;>&lt;tns7:Severity>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:Severity&quot;/>&lt;/tns7:Severity>&lt;/xsl:if>&lt;tns7:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&lt;/tns7:ExceptionId>&lt;tns7:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionTimestamp&quot;/>&lt;/tns7:ExceptionTimestamp>&lt;tns7:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;AuthenticationFault&amp;quot;&quot;/>&lt;/tns7:ExceptionName>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionDescription&quot;>&lt;tns7:ExceptionDescription>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionDescription&quot;/>&lt;/tns7:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionDetails&quot;>&lt;tns7:ExceptionDetails>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionDetails&quot;/>&lt;/tns7:ExceptionDetails>&lt;/xsl:if>&lt;tns7:RootException>&lt;tns7:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&lt;/tns7:ExceptionId>&lt;tns7:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;AuthenticationFault&amp;quot;&quot;/>&lt;/tns7:ExceptionName>&lt;/tns7:RootException>&lt;tns7:FaultContext>&lt;tns7:Hostname>&lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&lt;/tns7:Hostname>&lt;tns7:Application>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&lt;/tns7:Application>&lt;tns7:Instance>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&lt;/tns7:Instance>&lt;/tns7:FaultContext>&lt;/tns7:Fault>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault"
                    name="AssignAuthenticationFault2"
                    outputVariable="DataFault"
                    tibex:xpdlId="8cd9ceb1-5209-4c9f-b17d-c1c56cbb5084" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToAssignAuthenticationFault2_ThrowableAuthenticationFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignAuthenticationFault2ToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;tns7:Fault>&#xa;            &lt;tns7:FaultHeader>&#xa;                &lt;tns6:CorrelationId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns6:CorrelationId&quot;/>&#xa;                &lt;/tns6:CorrelationId>&#xa;                &lt;head1:TransactionId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                &lt;/head1:TransactionId>&#xa;                &lt;head1:Version>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                &lt;/head1:Version>&#xa;                &lt;head1:ResponseDateTime>&#xa;                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                &lt;/head1:ResponseDateTime>&#xa;                &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;            &lt;/tns7:FaultHeader>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:Severity&quot;>&#xa;                &lt;tns7:Severity>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:Severity&quot;/>&#xa;                &lt;/tns7:Severity>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns7:ExceptionId>&#xa;                &lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&#xa;            &lt;/tns7:ExceptionId>&#xa;            &lt;tns7:ExceptionTimestamp>&#xa;                &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionTimestamp&quot;/>&#xa;            &lt;/tns7:ExceptionTimestamp>&#xa;            &lt;tns7:ExceptionName>&#xa;                &lt;xsl:value-of select=&quot;&amp;quot;AuthenticationFault&amp;quot;&quot;/>&#xa;            &lt;/tns7:ExceptionName>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionDescription&quot;>&#xa;                &lt;tns7:ExceptionDescription>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionDescription&quot;/>&#xa;                &lt;/tns7:ExceptionDescription>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionDetails&quot;>&#xa;                &lt;tns7:ExceptionDetails>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns4:FaultDetails/tns4:Data/ns1:ThrowableAuthenticationFault/tns7:ExceptionDetails&quot;/>&#xa;                &lt;/tns7:ExceptionDetails>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns7:RootException>&#xa;                &lt;tns7:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns4:ExceptionId&quot;/>&#xa;                &lt;/tns7:ExceptionId>&#xa;                &lt;tns7:ExceptionName>&#xa;                    &lt;xsl:value-of select=&quot;&amp;quot;AuthenticationFault&amp;quot;&quot;/>&#xa;                &lt;/tns7:ExceptionName>&#xa;            &lt;/tns7:RootException>&#xa;            &lt;tns7:FaultContext>&#xa;                &lt;tns7:Hostname>&#xa;                    &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                &lt;/tns7:Hostname>&#xa;                &lt;tns7:Application>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns7:Application>&#xa;                &lt;tns7:Instance>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns7:Instance>&#xa;            &lt;/tns7:FaultContext>&#xa;        &lt;/tns7:Fault>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;!--START COERCIONS-->&#xa;&lt;!-- $CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/*, element, ns1:ThrowableFault -->&#xa;&lt;!--END COERCIONS-->&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&lt;xsl:import-schema namespace=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; schema-location=&quot;../../../../../../../LIB_XML/Schemas/PSG/CommonServices/Data/Message/Internal/Throwable.xsd&quot;/>&lt;xsl:param name=&quot;Fault&quot;/>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&lt;tns7:Fault>&lt;tns7:FaultHeader>&lt;tns4:CorrelationId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/tns4:CorrelationId&quot;/>&lt;/tns4:CorrelationId>&lt;head1:TransactionId>&lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&lt;/head1:TransactionId>&lt;head1:Version>&lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&lt;/head1:Version>&lt;head1:ResponseDateTime>&lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&lt;/head1:ResponseDateTime>&lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&lt;/tns7:FaultHeader>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:Severity&quot;>&lt;tns7:Severity>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:Severity&quot;/>&lt;/tns7:Severity>&lt;/xsl:if>&lt;tns7:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns6:ExceptionId&quot;/>&lt;/tns7:ExceptionId>&lt;tns7:ExceptionTimestamp>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionTimestamp&quot;/>&lt;/tns7:ExceptionTimestamp>&lt;tns7:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;Fault&amp;quot;&quot;/>&lt;/tns7:ExceptionName>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionDescription&quot;>&lt;tns7:ExceptionDescription>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionDescription&quot;/>&lt;/tns7:ExceptionDescription>&lt;/xsl:if>&lt;xsl:if test=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionDetails&quot;>&lt;tns7:ExceptionDetails>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns5:CreateExceptionEventRequest/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionDetails&quot;/>&lt;/tns7:ExceptionDetails>&lt;/xsl:if>&lt;tns7:RootException>&lt;tns7:ExceptionId>&lt;xsl:value-of select=&quot;$Fault/tns6:ExceptionId&quot;/>&lt;/tns7:ExceptionId>&lt;tns7:ExceptionName>&lt;xsl:value-of select=&quot;&amp;quot;Fault&amp;quot;&quot;/>&lt;/tns7:ExceptionName>&lt;/tns7:RootException>&lt;tns7:FaultContext>&lt;tns7:Hostname>&lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&lt;/tns7:Hostname>&lt;tns7:Application>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&lt;/tns7:Application>&lt;tns7:Instance>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&lt;/tns7:Instance>&lt;/tns7:FaultContext>&lt;/tns7:Fault>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="DataFault" name="AssignDataFault2"
                    outputVariable="DataFault"
                    tibex:xpdlId="607f9c52-ae38-4270-beaf-0280b04e46ee" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToAssignDataFault2_ThrowableFault"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="AssignDataFault2ToAssignFault"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:tns6=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/Throwable&quot; xmlns:tns7=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&#xa;    &lt;xsl:template name=&quot;DataFault&quot; match=&quot;/&quot;>&#xa;        &lt;tns7:Fault>&#xa;            &lt;tns7:FaultHeader>&#xa;                &lt;tns4:CorrelationId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns4:CorrelationId&quot;/>&#xa;                &lt;/tns4:CorrelationId>&#xa;                &lt;head1:TransactionId>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                &lt;/head1:TransactionId>&#xa;                &lt;head1:Version>&#xa;                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                &lt;/head1:Version>&#xa;                &lt;head1:ResponseDateTime>&#xa;                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                &lt;/head1:ResponseDateTime>&#xa;                &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;            &lt;/tns7:FaultHeader>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:Severity&quot;>&#xa;                &lt;tns7:Severity>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:Severity&quot;/>&#xa;                &lt;/tns7:Severity>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns7:ExceptionId>&#xa;                &lt;xsl:value-of select=&quot;$Fault/tns6:ExceptionId&quot;/>&#xa;            &lt;/tns7:ExceptionId>&#xa;            &lt;tns7:ExceptionTimestamp>&#xa;                &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionTimestamp&quot;/>&#xa;            &lt;/tns7:ExceptionTimestamp>&#xa;            &lt;tns7:ExceptionName>&#xa;                &lt;xsl:value-of select=&quot;&amp;quot;Fault&amp;quot;&quot;/>&#xa;            &lt;/tns7:ExceptionName>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionDescription&quot;>&#xa;                &lt;tns7:ExceptionDescription>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionDescription&quot;/>&#xa;                &lt;/tns7:ExceptionDescription>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionDetails&quot;>&#xa;                &lt;tns7:ExceptionDetails>&#xa;                    &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns6:FaultDetails/tns6:Data/ns1:ThrowableFault/tns7:ExceptionDetails&quot;/>&#xa;                &lt;/tns7:ExceptionDetails>&#xa;            &lt;/xsl:if>&#xa;            &lt;tns7:RootException>&#xa;                &lt;tns7:ExceptionId>&#xa;                    &lt;xsl:value-of select=&quot;$Fault/tns6:ExceptionId&quot;/>&#xa;                &lt;/tns7:ExceptionId>&#xa;                &lt;tns7:ExceptionName>&#xa;                    &lt;xsl:value-of select=&quot;&amp;quot;Fault&amp;quot;&quot;/>&#xa;                &lt;/tns7:ExceptionName>&#xa;            &lt;/tns7:RootException>&#xa;            &lt;tns7:FaultContext>&#xa;                &lt;tns7:Hostname>&#xa;                    &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                &lt;/tns7:Hostname>&#xa;                &lt;tns7:Application>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns7:Application>&#xa;                &lt;tns7:Instance>&#xa;                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&#xa;                &lt;/tns7:Instance>&#xa;            &lt;/tns7:FaultContext>&#xa;        &lt;/tns7:Fault>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value processVariable="DataFault" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:receive createInstance="yes"
                name="CreateExceptionEventIn"
                operation="CreateExceptionEvent"
                partnerLink="CreateExceptionEvent"
                portType="ns1:CreateExceptionEvent"
                tibex:xpdlId="4abeb0b5-6187-40b2-9a0b-4064347a7d1f" variable="CreateExceptionEventIn">
                <bpws:sources>
                    <bpws:source linkName="CreateExceptionEventInToAssign"/>
                </bpws:sources>
            </bpws:receive>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:bwp=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:head=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&lt;xsl:template name=&quot;BWProcessHeaders&quot; match=&quot;/&quot;>&lt;xsl:choose>&lt;xsl:when test=&quot;exists($CreateExceptionEventIn/parameters/tns:CreateExceptionEventRequest/bwp:BWProcessHeaders)&quot;>&lt;xsl:copy-of select=&quot;$CreateExceptionEventIn/parameters/tns:CreateExceptionEventRequest/bwp:BWProcessHeaders&quot;/>&lt;/xsl:when>&lt;xsl:otherwise>&lt;bwp:BWProcessHeaders>&lt;tns1:CorrelationId>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns:CreateExceptionEventRequest/tns1:CorrelationId&quot;/>&lt;/tns1:CorrelationId>&lt;head:TransactionId>&lt;xsl:value-of select=&quot;$CreateExceptionEventIn/parameters/tns:CreateExceptionEventRequest/tns1:CorrelationId&quot;/>&lt;/head:TransactionId>&lt;bwp:Invoke>&lt;head:Source>&lt;head:Name>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&lt;/head:Name>&lt;head:Address>&lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&lt;/head:Address>&lt;head:InstanceId>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&lt;/head:InstanceId>&lt;head:ApplicationVersion>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.VERSION&amp;quot;)&quot;/>&lt;/head:ApplicationVersion>&lt;/head:Source>&lt;/bwp:Invoke>&lt;bwp:Response>&lt;head:Version>&lt;xsl:value-of select=&quot;&amp;quot;1.0&amp;quot;&quot;/>&lt;/head:Version>&lt;head:Source>&lt;head:Name>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&lt;/head:Name>&lt;head:Address>&lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&lt;/head:Address>&lt;head:InstanceId>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&lt;/head:InstanceId>&lt;head:ApplicationVersion>&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.VERSION&amp;quot;)&quot;/>&lt;/head:ApplicationVersion>&lt;/head:Source>&lt;/bwp:Response>&lt;/bwp:BWProcessHeaders>&lt;/xsl:otherwise>&lt;/xsl:choose>&lt;/xsl:template>&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="BWProcessHeaders"
                    name="AssignBWProcessHeaders"
                    outputVariable="BWProcessHeaders"
                    tibex:xpdlId="f6354e15-8137-4c2e-b3ac-7d83f9f0211b" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="CreateExceptionEventInToAssign"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="Assign1ToAssign"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:bwp=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:tns=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:head=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:template name=&quot;BWProcessHeaders&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:choose>&#xa;            &lt;xsl:when test=&quot;exists($CreateExceptionEventIn.parameters/bwp:BWProcessHeaders)&quot;>&#xa;                &lt;xsl:copy-of select=&quot;$CreateExceptionEventIn.parameters/bwp:BWProcessHeaders&quot;/>&#xa;            &lt;/xsl:when>&#xa;            &lt;xsl:otherwise>&#xa;                &lt;bwp:BWProcessHeaders>&#xa;                    &lt;tns1:CorrelationId>&#xa;                        &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns1:CorrelationId&quot;/>&#xa;                    &lt;/tns1:CorrelationId>&#xa;                    &lt;head:TransactionId>&#xa;                        &lt;xsl:value-of select=&quot;$CreateExceptionEventIn.parameters/tns1:CorrelationId&quot;/>&#xa;                    &lt;/head:TransactionId>&#xa;                    &lt;bwp:Invoke>&#xa;                        &lt;head:Source>&#xa;                            &lt;head:Name>&#xa;                                &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                            &lt;/head:Name>&#xa;                            &lt;head:Address>&#xa;                                &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                            &lt;/head:Address>&#xa;                            &lt;head:InstanceId>&#xa;                                &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&#xa;                            &lt;/head:InstanceId>&#xa;                            &lt;head:ApplicationVersion>&#xa;                                &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.VERSION&amp;quot;)&quot;/>&#xa;                            &lt;/head:ApplicationVersion>&#xa;                        &lt;/head:Source>&#xa;                    &lt;/bwp:Invoke>&#xa;                    &lt;bwp:Response>&#xa;                        &lt;head:Version>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;1.0&amp;quot;&quot;/>&#xa;                        &lt;/head:Version>&#xa;                        &lt;head:Source>&#xa;                            &lt;head:Name>&#xa;                                &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                            &lt;/head:Name>&#xa;                            &lt;head:Address>&#xa;                                &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                            &lt;/head:Address>&#xa;                            &lt;head:InstanceId>&#xa;                                &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPNODE.NAME&amp;quot;)&quot;/>&#xa;                            &lt;/head:InstanceId>&#xa;                            &lt;head:ApplicationVersion>&#xa;                                &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.VERSION&amp;quot;)&quot;/>&#xa;                            &lt;/head:ApplicationVersion>&#xa;                        &lt;/head:Source>&#xa;                    &lt;/bwp:Response>&#xa;                &lt;/bwp:BWProcessHeaders>&#xa;            &lt;/xsl:otherwise>&#xa;        &lt;/xsl:choose>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.bwassign"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                                    <value
                                    processVariable="BWProcessHeaders" xsi:type="generalactivities:BWAssign"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns1=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:ns0=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&#xa;    &lt;xsl:template name=&quot;Mapper-input&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:variable name=&quot;varRequest&quot; select=&quot;$CreateExceptionEventIn/parameters/tns1:CreateExceptionEventRequest&quot;/>&#xa;        &lt;xsl:choose>&#xa;            &lt;xsl:when test=&quot;not(exists($Fault/tns:FaultDetails/tns:Data/*)) and contains($Fault/tns:FaultDetails/tns:Msg, &amp;quot;Received SOAP Fault&amp;quot;)&quot;>&#xa;                &lt;tns1:CreateExceptionEventResponse>&#xa;                    &lt;xsl:variable name=&quot;varBackEndResponse&quot; select=&quot;tib:trim(substring-before(substring-after($Fault/tns:FaultDetails/tns:Msg, &amp;quot;[&amp;lt;?xml&amp;quot;), &amp;quot;]&amp;quot;))&quot;/>&#xa;                    &lt;xsl:variable name=&quot;faultstring&quot; select=&quot;substring-after(substring-before($Fault/tns:FaultDetails/tns:Msg, &amp;quot;&amp;lt;/faultstring>&amp;quot;), &amp;quot;&amp;lt;faultstring>&amp;quot;)&quot;/>&#xa;                    &lt;xsl:variable name=&quot;faultcode&quot; select=&quot;substring-after(substring-before($Fault/tns:FaultDetails/tns:Msg, &amp;quot;&amp;lt;/faultcode>&amp;quot;), &amp;quot;&amp;lt;faultcode>&amp;quot;)&quot;/>&#xa;                    &lt;tns:Fault>&#xa;                        &lt;tns2:CorrelationId>&#xa;                            &lt;xsl:value-of select=&quot;$Fault/tns2:CorrelationId&quot;/>&#xa;                        &lt;/tns2:CorrelationId>&#xa;                        &lt;tns:ExceptionId>&#xa;                            &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                        &lt;/tns:ExceptionId>&#xa;                        &lt;tns:ExceptionTimestamp>&#xa;                            &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionTimestamp&quot;/>&#xa;                        &lt;/tns:ExceptionTimestamp>&#xa;                        &lt;tns:ExceptionName>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&#xa;                        &lt;/tns:ExceptionName>&#xa;                        &lt;tns:isAudited>&#xa;                            &lt;xsl:value-of select=&quot;$Fault/tns:isAudited&quot;/>&#xa;                        &lt;/tns:isAudited>&#xa;                        &lt;xsl:copy-of select=&quot;$Fault/tns:FaultDetails&quot;/>&#xa;                        &lt;xsl:copy-of select=&quot;$Fault/tns5:RuntimeContext&quot;/>&#xa;                        &lt;xsl:copy-of select=&quot;$Fault/tns2:Payload&quot;/>&#xa;                    &lt;/tns:Fault>&#xa;                    &lt;tns1:Response>&#xa;                        &lt;ns0:BackEndFault>&#xa;                            &lt;ns0:FaultHeader>&#xa;                                &lt;tns2:CorrelationId>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns2:CorrelationId&quot;/>&#xa;                                &lt;/tns2:CorrelationId>&#xa;                                &lt;head1:TransactionId>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                                &lt;/head1:TransactionId>&#xa;                                &lt;head1:Version>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                                &lt;/head1:Version>&#xa;                                &lt;head1:ResponseDateTime>&#xa;                                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                                &lt;/head1:ResponseDateTime>&#xa;                                &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;                            &lt;/ns0:FaultHeader>&#xa;                            &lt;ns0:ExceptionId>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                            &lt;/ns0:ExceptionId>&#xa;                            &lt;ns0:ExceptionTimestamp>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionTimestamp&quot;/>&#xa;                            &lt;/ns0:ExceptionTimestamp>&#xa;                            &lt;ns0:ExceptionName>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&#xa;                            &lt;/ns0:ExceptionName>&#xa;                            &lt;xsl:choose>&#xa;                                &lt;xsl:when test=&quot;$faultstring!=&amp;quot;&amp;quot; or $faultcode!=&amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;ns0:ExceptionDescription>&#xa;                                        &lt;xsl:value-of select=&quot;&amp;quot;BackEnd returned SOAP Fault&amp;quot;&quot;/>&#xa;                                    &lt;/ns0:ExceptionDescription>&#xa;                                &lt;/xsl:when>&#xa;                                &lt;xsl:otherwise>&#xa;                                    &lt;ns0:ExceptionDescription>&#xa;                                        &lt;xsl:value-of select=&quot;$Fault/tns:FaultDetails/tns:Msg&quot;/>&#xa;                                    &lt;/ns0:ExceptionDescription>&#xa;                                &lt;/xsl:otherwise>&#xa;                            &lt;/xsl:choose>&#xa;                            &lt;xsl:choose>&#xa;                                &lt;xsl:when test=&quot;$faultstring!=&amp;quot;&amp;quot; or $faultcode!=&amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;ns0:ExceptionDetails>&#xa;                                        &lt;xsl:value-of select=&quot;concat(&amp;quot;faultcode: &amp;quot;, $faultcode, &amp;quot;, faultstring: &amp;quot;, $faultstring)&quot;/>&#xa;                                    &lt;/ns0:ExceptionDetails>&#xa;                                &lt;/xsl:when>&#xa;                                &lt;xsl:otherwise>&#xa;                                    &lt;ns0:ExceptionDetails>&#xa;                                        &lt;xsl:value-of select=&quot;$Fault/tns:FaultDetails/tns:MsgCode&quot;/>&#xa;                                    &lt;/ns0:ExceptionDetails>&#xa;                                &lt;/xsl:otherwise>&#xa;                            &lt;/xsl:choose>&#xa;                            &lt;ns0:RootException>&#xa;                                &lt;ns0:ExceptionId>&#xa;                                    &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                                &lt;/ns0:ExceptionId>&#xa;                                &lt;ns0:ExceptionName>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&#xa;                                &lt;/ns0:ExceptionName>&#xa;                            &lt;/ns0:RootException>&#xa;                            &lt;ns0:FaultContext>&#xa;                                &lt;ns0:Hostname>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                                &lt;/ns0:Hostname>&#xa;                                &lt;ns0:Application>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                                &lt;/ns0:Application>&#xa;                                &lt;ns0:Instance>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.ENGINE.NAME&amp;quot;)&quot;/>&#xa;                                &lt;/ns0:Instance>&#xa;                            &lt;/ns0:FaultContext>&#xa;                        &lt;/ns0:BackEndFault>&#xa;                    &lt;/tns1:Response>&#xa;                    &lt;xsl:if test=&quot;$varBackEndResponse!=&amp;quot;&amp;quot;&quot;>&#xa;                        &lt;tns1:BackEndResponse>&#xa;                            &lt;xsl:value-of select=&quot;concat(&amp;quot;&amp;lt;?xml&amp;quot;, $varBackEndResponse, &amp;quot;>&amp;quot;)&quot;/>&#xa;                        &lt;/tns1:BackEndResponse>&#xa;                    &lt;/xsl:if>&#xa;                &lt;/tns1:CreateExceptionEventResponse>&#xa;            &lt;/xsl:when>&#xa;            &lt;xsl:otherwise>&#xa;                &lt;tns1:CreateExceptionEventResponse>&#xa;                    &lt;xsl:copy-of select=&quot;$Fault&quot;/>&#xa;                    &lt;tns1:Response>&#xa;                        &lt;ns0:Fault>&#xa;                            &lt;ns0:FaultHeader>&#xa;                                &lt;tns2:CorrelationId>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns2:CorrelationId&quot;/>&#xa;                                &lt;/tns2:CorrelationId>&#xa;                                &lt;head1:TransactionId>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                                &lt;/head1:TransactionId>&#xa;                                &lt;head1:Version>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                                &lt;/head1:Version>&#xa;                                &lt;head1:ResponseDateTime>&#xa;                                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                                &lt;/head1:ResponseDateTime>&#xa;                                &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;                            &lt;/ns0:FaultHeader>&#xa;                            &lt;ns0:ExceptionId>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                            &lt;/ns0:ExceptionId>&#xa;                            &lt;ns0:ExceptionTimestamp>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionTimestamp&quot;/>&#xa;                            &lt;/ns0:ExceptionTimestamp>&#xa;                            &lt;ns0:ExceptionName>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;Fault&amp;quot;&quot;/>&#xa;                            &lt;/ns0:ExceptionName>&#xa;                            &lt;ns0:ExceptionDescription>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:FaultDetails/tns:Msg&quot;/>&#xa;                            &lt;/ns0:ExceptionDescription>&#xa;                            &lt;ns0:ExceptionDetails>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:FaultDetails/tns:MsgCode&quot;/>&#xa;                            &lt;/ns0:ExceptionDetails>&#xa;                            &lt;ns0:RootException>&#xa;                                &lt;ns0:ExceptionId>&#xa;                                    &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                                &lt;/ns0:ExceptionId>&#xa;                                &lt;xsl:if test=&quot;$Fault/tns:ExceptionName&quot;>&#xa;                                    &lt;ns0:ExceptionName>&#xa;                                        &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionName&quot;/>&#xa;                                    &lt;/ns0:ExceptionName>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/ns0:RootException>&#xa;                            &lt;ns0:FaultContext>&#xa;                                &lt;ns0:Hostname>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                                &lt;/ns0:Hostname>&#xa;                                &lt;ns0:Application>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                                &lt;/ns0:Application>&#xa;                                &lt;ns0:Instance>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.ENGINE.NAME&amp;quot;)&quot;/>&#xa;                                &lt;/ns0:Instance>&#xa;                            &lt;/ns0:FaultContext>&#xa;                        &lt;/ns0:Fault>&#xa;                    &lt;/tns1:Response>&#xa;                &lt;/tns1:CreateExceptionEventResponse>&#xa;            &lt;/xsl:otherwise>&#xa;        &lt;/xsl:choose>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="Mapper-input" name="Mapper"
                    outputVariable="Mapper"
                    tibex:xpdlId="8e0e3de0-fe63-4389-9db1-fca6e88530a2" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="AssignToCreateExceptionEventOut"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="MapperToCreateExceptionEventOut"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:ns1=&quot;http://www.tibco.com/PSG/CommonServices/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault&quot; xmlns:tns1=&quot;http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent&quot; xmlns:tns2=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Common&quot; xmlns:tns5=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/RuntimeContext&quot; xmlns:bwp1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Internal/BWProcess&quot; xmlns:head1=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/MessageHeader&quot; xmlns:ns0=&quot;http://www.tibco.com/PSG/CommonServices/Data/Message/Fault.2&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;CreateExceptionEventIn.parameters&quot;/>&#xa;    &lt;xsl:param name=&quot;Fault&quot;/>&#xa;    &lt;xsl:param name=&quot;BWProcessHeaders&quot;/>&#xa;    &lt;xsl:template name=&quot;Mapper-input&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:variable name=&quot;varRequest&quot; select=&quot;$CreateExceptionEventIn.parameters&quot;/>&#xa;        &lt;xsl:choose>&#xa;            &lt;xsl:when test=&quot;not(exists($Fault/tns:FaultDetails/tns:Data/*)) and contains($Fault/tns:FaultDetails/tns:Msg, &amp;quot;Received SOAP Fault&amp;quot;)&quot;>&#xa;                &lt;tns1:CreateExceptionEventResponse>&#xa;                    &lt;xsl:variable name=&quot;varBackEndResponse&quot; select=&quot;tib:trim(substring-before(substring-after($Fault/tns:FaultDetails/tns:Msg, &amp;quot;[&amp;lt;?xml&amp;quot;), &amp;quot;]&amp;quot;))&quot;/>&#xa;                    &lt;xsl:variable name=&quot;faultstring&quot; select=&quot;substring-after(substring-before($Fault/tns:FaultDetails/tns:Msg, &amp;quot;&amp;lt;/faultstring>&amp;quot;), &amp;quot;&amp;lt;faultstring>&amp;quot;)&quot;/>&#xa;                    &lt;xsl:variable name=&quot;faultcode&quot; select=&quot;substring-after(substring-before($Fault/tns:FaultDetails/tns:Msg, &amp;quot;&amp;lt;/faultcode>&amp;quot;), &amp;quot;&amp;lt;faultcode>&amp;quot;)&quot;/>&#xa;                    &lt;tns:Fault>&#xa;                        &lt;tns2:CorrelationId>&#xa;                            &lt;xsl:value-of select=&quot;$Fault/tns2:CorrelationId&quot;/>&#xa;                        &lt;/tns2:CorrelationId>&#xa;                        &lt;tns:ExceptionId>&#xa;                            &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                        &lt;/tns:ExceptionId>&#xa;                        &lt;tns:ExceptionTimestamp>&#xa;                            &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionTimestamp&quot;/>&#xa;                        &lt;/tns:ExceptionTimestamp>&#xa;                        &lt;tns:ExceptionName>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&#xa;                        &lt;/tns:ExceptionName>&#xa;                        &lt;tns:isAudited>&#xa;                            &lt;xsl:value-of select=&quot;$Fault/tns:isAudited&quot;/>&#xa;                        &lt;/tns:isAudited>&#xa;                        &lt;xsl:copy-of select=&quot;$Fault/tns:FaultDetails&quot;/>&#xa;                        &lt;xsl:copy-of select=&quot;$Fault/tns5:RuntimeContext&quot;/>&#xa;                        &lt;xsl:copy-of select=&quot;$Fault/tns2:Payload&quot;/>&#xa;                    &lt;/tns:Fault>&#xa;                    &lt;tns1:Response>&#xa;                        &lt;ns0:BackEndFault>&#xa;                            &lt;ns0:FaultHeader>&#xa;                                &lt;tns2:CorrelationId>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns2:CorrelationId&quot;/>&#xa;                                &lt;/tns2:CorrelationId>&#xa;                                &lt;head1:TransactionId>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                                &lt;/head1:TransactionId>&#xa;                                &lt;head1:Version>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                                &lt;/head1:Version>&#xa;                                &lt;head1:ResponseDateTime>&#xa;                                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                                &lt;/head1:ResponseDateTime>&#xa;                                &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;                            &lt;/ns0:FaultHeader>&#xa;                            &lt;ns0:ExceptionId>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                            &lt;/ns0:ExceptionId>&#xa;                            &lt;ns0:ExceptionTimestamp>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionTimestamp&quot;/>&#xa;                            &lt;/ns0:ExceptionTimestamp>&#xa;                            &lt;ns0:ExceptionName>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&#xa;                            &lt;/ns0:ExceptionName>&#xa;                            &lt;xsl:choose>&#xa;                                &lt;xsl:when test=&quot;$faultstring!=&amp;quot;&amp;quot; or $faultcode!=&amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;ns0:ExceptionDescription>&#xa;                                        &lt;xsl:value-of select=&quot;&amp;quot;BackEnd returned SOAP Fault&amp;quot;&quot;/>&#xa;                                    &lt;/ns0:ExceptionDescription>&#xa;                                &lt;/xsl:when>&#xa;                                &lt;xsl:otherwise>&#xa;                                    &lt;ns0:ExceptionDescription>&#xa;                                        &lt;xsl:value-of select=&quot;$Fault/tns:FaultDetails/tns:Msg&quot;/>&#xa;                                    &lt;/ns0:ExceptionDescription>&#xa;                                &lt;/xsl:otherwise>&#xa;                            &lt;/xsl:choose>&#xa;                            &lt;xsl:choose>&#xa;                                &lt;xsl:when test=&quot;$faultstring!=&amp;quot;&amp;quot; or $faultcode!=&amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;ns0:ExceptionDetails>&#xa;                                        &lt;xsl:value-of select=&quot;concat(&amp;quot;faultcode: &amp;quot;, $faultcode, &amp;quot;, faultstring: &amp;quot;, $faultstring)&quot;/>&#xa;                                    &lt;/ns0:ExceptionDetails>&#xa;                                &lt;/xsl:when>&#xa;                                &lt;xsl:otherwise>&#xa;                                    &lt;ns0:ExceptionDetails>&#xa;                                        &lt;xsl:value-of select=&quot;$Fault/tns:FaultDetails/tns:MsgCode&quot;/>&#xa;                                    &lt;/ns0:ExceptionDetails>&#xa;                                &lt;/xsl:otherwise>&#xa;                            &lt;/xsl:choose>&#xa;                            &lt;ns0:RootException>&#xa;                                &lt;ns0:ExceptionId>&#xa;                                    &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                                &lt;/ns0:ExceptionId>&#xa;                                &lt;ns0:ExceptionName>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;BackEndFault&amp;quot;&quot;/>&#xa;                                &lt;/ns0:ExceptionName>&#xa;                            &lt;/ns0:RootException>&#xa;                            &lt;ns0:FaultContext>&#xa;                                &lt;ns0:Hostname>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                                &lt;/ns0:Hostname>&#xa;                                &lt;ns0:Application>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                                &lt;/ns0:Application>&#xa;                                &lt;ns0:Instance>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.ENGINE.NAME&amp;quot;)&quot;/>&#xa;                                &lt;/ns0:Instance>&#xa;                            &lt;/ns0:FaultContext>&#xa;                        &lt;/ns0:BackEndFault>&#xa;                    &lt;/tns1:Response>&#xa;                    &lt;xsl:if test=&quot;$varBackEndResponse!=&amp;quot;&amp;quot;&quot;>&#xa;                        &lt;tns1:BackEndResponse>&#xa;                            &lt;xsl:value-of select=&quot;concat(&amp;quot;&amp;lt;?xml&amp;quot;, $varBackEndResponse, &amp;quot;>&amp;quot;)&quot;/>&#xa;                        &lt;/tns1:BackEndResponse>&#xa;                    &lt;/xsl:if>&#xa;                &lt;/tns1:CreateExceptionEventResponse>&#xa;            &lt;/xsl:when>&#xa;            &lt;xsl:otherwise>&#xa;                &lt;tns1:CreateExceptionEventResponse>&#xa;                    &lt;xsl:copy-of select=&quot;$Fault&quot;/>&#xa;                    &lt;tns1:Response>&#xa;                        &lt;ns0:Fault>&#xa;                            &lt;ns0:FaultHeader>&#xa;                                &lt;tns2:CorrelationId>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/tns2:CorrelationId&quot;/>&#xa;                                &lt;/tns2:CorrelationId>&#xa;                                &lt;head1:TransactionId>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/head1:TransactionId&quot;/>&#xa;                                &lt;/head1:TransactionId>&#xa;                                &lt;head1:Version>&#xa;                                    &lt;xsl:value-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Version&quot;/>&#xa;                                &lt;/head1:Version>&#xa;                                &lt;head1:ResponseDateTime>&#xa;                                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                                &lt;/head1:ResponseDateTime>&#xa;                                &lt;xsl:copy-of select=&quot;$BWProcessHeaders/bwp1:Response/head1:Source&quot;/>&#xa;                            &lt;/ns0:FaultHeader>&#xa;                            &lt;ns0:ExceptionId>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                            &lt;/ns0:ExceptionId>&#xa;                            &lt;ns0:ExceptionTimestamp>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionTimestamp&quot;/>&#xa;                            &lt;/ns0:ExceptionTimestamp>&#xa;                            &lt;ns0:ExceptionName>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;Fault&amp;quot;&quot;/>&#xa;                            &lt;/ns0:ExceptionName>&#xa;                            &lt;ns0:ExceptionDescription>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:FaultDetails/tns:Msg&quot;/>&#xa;                            &lt;/ns0:ExceptionDescription>&#xa;                            &lt;ns0:ExceptionDetails>&#xa;                                &lt;xsl:value-of select=&quot;$Fault/tns:FaultDetails/tns:MsgCode&quot;/>&#xa;                            &lt;/ns0:ExceptionDetails>&#xa;                            &lt;ns0:RootException>&#xa;                                &lt;ns0:ExceptionId>&#xa;                                    &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionId&quot;/>&#xa;                                &lt;/ns0:ExceptionId>&#xa;                                &lt;xsl:if test=&quot;$Fault/tns:ExceptionName&quot;>&#xa;                                    &lt;ns0:ExceptionName>&#xa;                                        &lt;xsl:value-of select=&quot;$Fault/tns:ExceptionName&quot;/>&#xa;                                    &lt;/ns0:ExceptionName>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/ns0:RootException>&#xa;                            &lt;ns0:FaultContext>&#xa;                                &lt;ns0:Hostname>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getHostName()&quot;/>&#xa;                                &lt;/ns0:Hostname>&#xa;                                &lt;ns0:Application>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.APPLICATION.NAME&amp;quot;)&quot;/>&#xa;                                &lt;/ns0:Application>&#xa;                                &lt;ns0:Instance>&#xa;                                    &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;BW.ENGINE.NAME&amp;quot;)&quot;/>&#xa;                                &lt;/ns0:Instance>&#xa;                            &lt;/ns0:FaultContext>&#xa;                        &lt;/ns0:Fault>&#xa;                    &lt;/tns1:Response>&#xa;                &lt;/tns1:CreateExceptionEventResponse>&#xa;            &lt;/xsl:otherwise>&#xa;        &lt;/xsl:choose>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.mapper"
                            version="6.0.0.001"
                            xmlns:CreateExceptionEvent="http://www.tibco.com/PSG/CommonServices/Message/TS/Util/sub/CreateExceptionEvent"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//Mapper"/>
                                    <value
                                    inputQName="CreateExceptionEvent:CreateExceptionEventResponse" xsi:type="generalactivities:Mapper"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
        </bpws:flow>
    </bpws:scope>
</bpws:process>
